"use strict";angular.module("titanClienteV2App",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","afOAuth2","treeControl","ngMaterial","ui.grid","ui.grid.edit","ui.grid.rowEdit","ui.grid.cellNav","ui.grid.treeView","ui.grid.selection","ui.grid.exporter","ngStorage","ngWebSocket","angularMoment","ui.utils.masks","pascalprecht.translate","titanService","titanMidService"]).run(["amMoment",function(a){a.changeLocale("es")}]).config(["$locationProvider","$routeProvider",function(a,b){a.hashPrefix(""),b.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/notificaciones",{templateUrl:"views/notificaciones.html",controller:"NotificacionesCtrl",controllerAs:"notificaciones"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/nomina/nomina_consulta/:tipo",{templateUrl:"views/nomina/nomina_consulta.html",controller:"NominaNominaConsultaCtrl",controllerAs:"nominaConsulta"}).when("/conceptos/modulo_conceptos",{templateUrl:"views/conceptos/modulo_conceptos.html",controller:"ConceptoConceptosConsultaCtrl",controllerAs:"conceptosConsulta"}).when("/preliquidacion/preliquidacion_registro",{templateUrl:"views/preliquidacion/preliquidacion_registro.html",controller:"PreliquidacionPreliquidacionRegistroCtrl",controllerAs:"preliquidacionRegistro"}).when("/preliquidacion/preliquidacion_personas",{templateUrl:"views/preliquidacion/preliquidacion_personas.html",controller:"PreliquidacionPreliquidacionPersonasCtrl",controllerAs:"preliquidacionPersonas"}).when("/preliquidacion/preliquidacion_detalle",{templateUrl:"views/preliquidacion/preliquidacion_detalle.html",controller:"PreliquidacionPreliquidacionDetalleCtrl",controllerAs:"preliquidacionDetalle"}).when("/preliquidacion/resumen_preliquidacion",{templateUrl:"views/preliquidacion/resumen_preliquidacion.html",controller:"PreliquidacionResumenPreliquidacionCtrl",controllerAs:"resumenPreliquidacion"}).when("/novedades/novedad_registro/:tipo",{templateUrl:"views/novedades/novedad_registro.html",controller:"NovedadesNovedadRegistroCtrl",controllerAs:"novedadRegistro"}).when("/liquidacion/liquidacion_detalle",{templateUrl:"views/liquidacion/liquidacion_detalle.html",controller:"LiquidacionCtrl",controllerAs:"liquidacion"}).when("/pensiones/sustituto",{templateUrl:"views/pensiones/sustituto.html",controller:"SustitutoCtrl",controllerAs:"sustituto"}).when("/pensiones/beneficiarios",{templateUrl:"views/pensiones/beneficiarios.html",controller:"BeneficiariosCtrl",controllerAs:"beneficiarios"}).when("/seguimiento_contractual/crear_informe",{templateUrl:"views/seguimiento_contractual/crear_informe.html",controller:"CrearInformeCtrl",controllerAs:"crearInforme"}).when("/seguimiento_contractual/crear_cumplido",{templateUrl:"views/seguimiento_contractual/crear_cumplido.html",controller:"CrearCumplidoCtrl",controllerAs:"crearCumplido"}).when("/seguimiento_contractual/aprobacion_pago",{templateUrl:"views/seguimiento_contractual/aprobacion_pago.html",controller:"AprobacionPagoCtrl",controllerAs:"aprobacionPago"}).otherwise({redirectTo:"/"})}]),angular.module("titanClienteV2App").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]});for(var params={},queryString=location.hash.substring(1),regex=/([^&=]+)=([^&]*)/g,m;m=regex.exec(queryString);)params[decodeURIComponent(m[1])]=decodeURIComponent(m[2]);var req=new XMLHttpRequest,query="https://"+window.location.host+"?"+queryString;req.open("GET",query,!0),req.onreadystatechange=function(a){console.log(a),4===req.readyState&&(200===req.status?window.location=params.state:400===req.status&&window.alert("There was an error processing the token."))},angular.module("titanClienteV2App").factory("token_service",["$location","$http","$localStorage",function(a,b,c){var d={local:c.$default(params),header:null,token:null,live_token:function(){return"undefined"==typeof d.local.id_token||null===d.local.id_token?!1:(d.header=KJUR.jws.JWS.readSafeJSONString(b64utoutf8(d.local.id_token.split(".")[0])),d.token=KJUR.jws.JWS.readSafeJSONString(b64utoutf8(d.local.id_token.split(".")[1])),!0)},logout:function(){d.token=null,c.$reset(),window.location=a.absUrl()}};return d}]),angular.module("titanClienteV2App").factory("notificacion",["$websocket",function(a){var b=a("ws://localhost:8080/register?id=2&profile=admin"),c=[];b.onMessage(function(a){c.unshift(JSON.parse(a.data))});var d={id:-1,log:c,get:function(){b.send(JSON.stringify({action:"get"}))},no_vistos:function(){var a=0;return angular.forEach(d.log,function(b){b.viewed||(a+=1)}),a}};return d}]),angular.module("titanClienteV2App").controller("menuCtrl",["$location","$http","$scope","token_service","notificacion","$translate","$route",function(a,b,c,d,e,f,g){var h=[];c.language={es:"btn btn-primary btn-circle btn-outline active",en:"btn btn-primary btn-circle btn-outline"},c.notificacion=e,c.actual="",c.token_service=d,c.breadcrumb=[],c.menu_service=[{Id:1,Nombre:"Pensionados",Url:"",Opciones:[{Id:1,Nombre:"Ingresar beneficiario",Url:"pensiones/beneficiarios",Opciones:null},{Id:1,Nombre:"Ingresar sustituto",Url:"pensiones/sustituto",Opciones:null}]},{Id:2,Nombre:"Nóminas",Url:"",Opciones:[{Id:1,Nombre:"Planta",Url:"",Opciones:[{Id:1,Nombre:"Funcionarios administrativos",Url:"nomina/nomina_consulta/FP",Opciones:null},{Id:1,Nombre:"Docentes de planta",Url:"nomina/nomina_consulta/DP",Opciones:null},{Id:1,Nombre:"Pensionados",Url:"nomina/nomina_consulta/PE",Opciones:null}]},{Id:1,Nombre:"Hóra cátedra",Url:"",Opciones:[{Id:1,Nombre:"Honorarios",Url:"nomina/nomina_consulta/HCH",Opciones:null},{Id:1,Nombre:"Salarios",Url:"nomina/nomina_consulta/HCS",Opciones:null}]},{Id:1,Nombre:"Contratistas",Url:"nomina/nomina_consulta/CT",Opciones:null}]},{Id:3,Nombre:"Conceptos",Url:"conceptos/modulo_conceptos",Opciones:null},{Id:4,Nombre:"Novedades",Url:"",Opciones:[{Id:1,Nombre:"Planta",Url:"",Opciones:[{Id:1,Nombre:"Funcionarios administrativos",Url:"nomina/nomina_consulta/FP",Opciones:[{Id:1,Nombre:"Registrar novedades",Url:"novedades/novedad_registro/FP",Opciones:null}]},{Id:1,Nombre:"Docentes de planta",Url:"nomina/nomina_consulta/DP",Opciones:[{Id:1,Nombre:"Registrar novedades",Url:"novedades/novedad_registro/DP",Opciones:null}]},{Id:1,Nombre:"Pensionados",Url:"nomina/nomina_consulta/PE",Opciones:[{Id:1,Nombre:"Registrar novedades",Url:"novedades/novedad_registro",Opciones:null}]}]},{Id:1,Nombre:"Hóra cátedra",Url:"",Opciones:[{Id:1,Nombre:"Honorarios",Url:"nomina/nomina_consulta/HC",Opciones:[{Id:1,Nombre:"Registrar novedades",Url:"novedades/novedad_registro/HCH",Opciones:null}]},{Id:1,Nombre:"Salarios",Url:"nomina/nomina_consulta/HCS",Opciones:[{Id:1,Nombre:"Registrar novedades",Url:"novedades/novedad_registro/HCS",Opciones:null}]}]},{Id:1,Nombre:"Contratistas",Url:"nomina/nomina_consulta/CT",Opciones:[{Id:1,Nombre:"Registrar novedades",Url:"novedades/novedad_registro/CT",Opciones:null}]}]},{Id:5,Nombre:"Seguimiento contractual",Url:"",Opciones:[{Id:1,Nombre:"Informe de gestión",Url:"seguimiento_contractual/crear_informe",Opciones:null},{Id:1,Nombre:"Cumplido",Url:"seguimiento_contractual/crear_cumplido",Opciones:null},{Id:1,Nombre:"Aprobar pago",Url:"seguimiento_contractual/aprobacion_pago",Opciones:null}]}];var i=function(a,b){for(var c="",d=0;d<a.length;d++)null===a[d].Opciones?(c=b+" , "+a[d].Nombre,h.push({path:a[d].Url,padre:c.split(",")})):i(a[d].Opciones,b+","+a[d].Nombre);return c},j=function(){c.breadcrumb=[""];for(var a=0;a<h.length;a++)c.actual==="/"+h[a].path?c.breadcrumb=h[a].padre:"/"===c.actual&&(c.breadcrumb=[""])};i(c.menu_service,""),h.push({padre:["","Notificaciones","Ver Notificaciones"],path:"notificaciones"}),c.$on("$routeChangeStart",function(b,d){c.actual=a.path(),j(),console.log(b+d)}),c.changeLanguage=function(a){switch(f.use(a),a){case"es":c.language.es="btn btn-primary btn-circle btn-outline active",c.language.en="btn btn-primary btn-circle btn-outline";break;case"en":c.language.en="btn btn-primary btn-circle btn-outline active",c.language.es="btn btn-primary btn-circle btn-outline"}g.reload()},function(a){a(document).ready(function(){a("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(b){b.preventDefault(),b.stopPropagation(),a(this).parent().siblings().removeClass("open"),a(this).parent().toggleClass("open")})})}(jQuery)}]),angular.module("titanClienteV2App").controller("footerCtrl",["$scope",function(a){a.enlaces_universitarios=[{nombre:"Transparencia",link:"#/"},{nombre:"Normatividad",link:"#/"},{nombre:"Trámites",link:"#/"},{nombre:"General",link:"#/"},{nombre:"Docente",link:"#/"},{nombre:"Académica Estudiantil ",link:"#/"},{nombre:"Derechos Pecuniarios",link:"#/"},{nombre:"Sistema de Notificaciones",link:"#/"},{nombre:"CSU",link:"#/"},{nombre:"PIGA",link:"#/"},{nombre:"Bitácora",link:"#/"},{nombre:"Noticias anterioresg",link:"#/"},{nombre:"Área de Red UDNet",link:"#/"},{nombre:"Administración PWI",link:"#/"}],a.copyright="© Copyright 1995 - 2017 - Todos los Derechos Reservados ...",a.map=[{nombre:"Preguntas Frecuentes",link:"#/"},{nombre:"Mapa del Porta",link:"#/"},{nombre:"Política de Privacidad",link:"#/"}]}]),angular.module("titanClienteV2App").controller("NotificacionesCtrl",["$scope","notificacion",function(a,b){a.imagePath="images/yeoman.8cb970fb.png",a.notificacion=b}]);var text_es={TITULO:"SISTEMA DE GESTIÓN DE NÓMINA",MENSAJE_INICIAL:"Oficina asesora de sistemas",VOLVER:"Volver",SALIR:"Salir",REGISTRAR:"Registrar",CANCELAR:"Cancelar",GENERAR:"Generar",GENERANDO:"Generando...",DETALLE:"Detalle",GENERAR_PDF:"Generar PDF",SI:"Sí",NO:"No",ACTIVO:"Activo",INACTIVO:"Inactivo",SELECCIONE:"Seleccione...",CONFIRMAR:"Confirmar",CANCELAR:"Cancelar",ANADIR_NOMINA:"Añadir nómina",TITULO_REG_NOMINA:"Registro de nómina",NOMBRE_NOMINA:"Nombre de la nómina",DESC_NOMINA:"Descripción",ESTADO_NOMINA:"Estado",OPCIONES_NOMINA:"Opciones",PRELIQUIDACION:"Preliquidaciones",TIPO_NOMINA:"Tipo de nómina",TITULO_NOMINA_REGIS:"Nóminas registradas",NOMINA_REG_CORRECTA:"Nómina registrada correctamente",NOMINA_REG_INCORRECTA:"Error al registrar la nómina",ANADIR_PRELIQ:"Añadir preliquidación",TITULO_REG_PRELIQ:"Registro de preliquidación",DESC_PRELIQ:"Descripción",ANO_PRELIQ:"Año",MES_PRELIQ:"Mes",ESTADO_PRELIQ:"Estado",TITULO_PRELIQ_REGIS:"Preliquidaciones para la nómina",FECHA_PRELIQ:"Fecha registro",OPCIONES_PRELIQ:"Opciones",PRELIQ_REG_CORRECTA:"Preliquidación registrada correctamente",PRELIQ_REG_INCORRECTA:"Error al registrar la preliquidación",ALERTA_PRELIQUIDACION_CERRADA:"Esta preliquidación está cerrada",PRELIQ_NOMINA:"Personas a preliquidar en nómina: ",NUM_CONTRATO:"Número de contrato",NOMBRE_PERSONA:"Nombre",DOCUMENTO:"Documento",VIGENCIA:"Vigencia",ALERTA_PERSONAS_SIN_SS:"No es posible realizar la liquidacion. Las personas resaltadas no cuentan con sus datos de seguridad social completos",TITULO_DETALLE_PRELIQ:"Detalle de preliquidación de la nómina",RESUMEN_PRELIQ:"Resumen de la preliquidación",CONCEPTO:"Concepto",VALOR:"Valor",NATURALEZA:"Naturaleza",TIPO:"Tipo",TOTAL:"Total",TOTAL_DEV:"Total devengado:",TOTAL_DESC:"Total descuentos:",TOTAL_PAGAR:"Total a pagar:",SUELDOS_NETOS:"Sueldos netos:",GENERAR_NECESIDAD:"Generar necesidad",DETALLE_EMP:"Detalle del empleado",ALERTA_PERSONAS_SELECCIONADAS:"Debe seleccionar personas para ser liquidadas",ALERTA_NO_LIQUIDACION:"Esta preliquidación ya ha sido liquidada",TITULO_DETALLE_LIQ:"Detalle de liquidación de la nómina",RESUMEN_LIQ:"Resumen de la liquidación",SELECCION_PERSONA:"Selección de persona",AGREGAR_NOVEDAD:"Agregar novedad",DETALLE_NOVEDAD:"Detalle de novedades",ALERTA_NO_NOVEDADES:"No hay novedades registradas",TITULO_REG_NOVEDAD:"Registro de nueva novedad",NOMBRE_CONCEPTO_NOVEDAD:"Concepto",VALOR_CONCEPTO_NOVEDAD:"Valor Novedad",NUMCUOTAS_CONCEPTO_NOVEDAD:"No de cuotas",VALOR_CONCEPTO:"Valor",CUOTAS_NOV:"Cuotas",TIPO_CONCEPTO:"Tipo",FECHA_INICIO:"Fecha de inicio",FECHA_FIN:"Fecha de finalización",TITULO_EDICION_NOVEDAD:"Edición de novedad",FECHA_REGISTRO:"Fecha de registro",NOVEDAD_REG_CORRECTO:"Novedad registrada correctamente",NOVEDAD_REG_ERROR:"Error al registrar novedad",CONFIRMACION_INACTIVIDAD_NOV:"¿Está seguro que desea inactivar la novedad : ",INACTIVIDAD_CORRECTA_NOV:"Novedad inactivada",INACTIVIDAD_INCORRECTA_NOV:"Error al inactivar novedad",CONFIRMACION_EDICION_NOV:"¿Está seguro que desea editar la novedad : ",EDICION_CORRECTA_NOV:"Novedad modificada correctamente",EDICION_INCORRECTA_NOV:"Error al modificar novedad",TITULO_REG_BEN:"Registro de beneficiarios",TIPO_DOC_BEN:"Tipo de documento",NUM_DOC_BEN:"Número de documento",NOM_BEN:"Nombres de los beneficiarios",APE_BEN:"Apellido de los beneficiarios",PARENTESCO:"Parentesto",PARENTESCO_CON:"Pariente directo de",GENERO:"Género",CORREO_ELEC:"Correo electrónico",NUMERO_CONTACTO:"Número de contacto",FECHA_NAC_BEN:"Fecha de nacimiento",APLICA_SUB_FAMILIAR:"Aplica subsidio familiar",APLICA_SUB_ESTUDIO:"Aplica subsidio de estudio",TIPO_CUENTA:"Tipo de cuenta bancaria",NUMERO_CUENTA:"Número de cuenta bancaria",BANCO_ASOCIADO:"Banco asociado",ESTADO_BEN:"Estado",CED_CIU:"Cédula de ciudadania",CEDULA_EXTRAN:"Cédula de extranjería",TARJETA_IDEN:"Tarjeta de identidad",MASCULINO:"Masculino",FEMENINO:"Femenino",PRI_APE:"Primer apellido",SEG_APE:"Segundo apellido",PRI_NOM:"Primer nombre",SEG_NOM:"Segundo nombre",AHORROS:"Ahorros",CORRIENTE:"Corriente",ALERTA_BEN_CORRECTO:"Beneficiario registrado correctamente",ALERTA_BEN_INCORRECTO:"Error al registrar beneficiario",TITULO_SUS:"Registro de sustituto",DOC_FUN_PEN:"Documento funcionario pensionado",DOC_BEN_SUS:"Documento beneficiario sustituto",PORCENTAJE:"Porcentaje asignado sobre pensión",ESTADO_SUS:"Estado",TITULO_TUTOR:"  Si el sustituto es menor de edad, se debe ingresar con el respectivo tutor",TITULO_REG_TUTOR:"Registro de tutor",TIPO_DOC_TUTOR:"Tipo de documento",NUM_DOC_TUTOR:"Número de documento",NOM_TUTOR:"Nombres del tutor",APE_TUTOR:"Apellidos del tutor",BEN_ASOCIADO:"Beneficiario asociado",HABILITAR_BENEFICIARIO:"Habilitar beneficiario",ID_BENEFICIARIO:"Identificacion del beneficiario",ALERTA_SUS_INCOMPLETO:"No hay datos para ingresar información de tutor",ALERTA_REG_SUS_CORRECTO:"Se ha registrado correctamente el sustituto",ALERTA_REG_SUS_INCORRECTO:"Error al registrar sustituto",NOMBRE_RUBRO:"Rubro",NOMBRE_BENEFICIARIO:"Beneficiario",NOMBRE_ORDEN_PAGO:"Orden de pago",FECHA_PDF:"Fecha",CONCEPTO_PDF:"Concepto",NOMBRE_RUBRO_ASOCIADO:"Rubro asociado",DETALLE_PAGO_PDF:"Detalle de pago",DEVENGOS_PDF:"Devengos",DESCUENTOS_PDF:"Descuentos",VALOR_PDF:"Valor",ALERTA_SELECCION_PERSONAS_PDF:"Seleccione personas para generar PDF",PAGO_PERIODO_PDF:"Pagos periodo",TITULO_DETALLE_PAGO_PDF:"DETALLE DE PAGO",TOTAL_DEVENGADO_PDF:"Total devengado",TOTAL_DESCUENTOS_PDF:"Total descuentos",TITULO_GENERAL:"CONCEPTOS REGISTRADOS",TITULO_EDICION:"EDICIÓN DE CONCEPTO",TITULO_ADICION:"NUEVO CONCEPTO",ANADIR_CONCEPTO:"Añadir concepto",CONCEPTO_NOMBRE:"Nombre de concepto",NATURALEZA_NOMBRE:"Naturaleza",TIPO_NOMBRE:"Tipo",ACCIONES:"Acciones",CONFIRMACION_EDICION:"¿Está seguro de querer actualizar el concepto:",ACTUALIZACION_CORRECTA:"Concepto actualizado correctamente",ACTUALIZACION_INCORRECTA:"Error al actualizar concepto",CONFIRMACION_ELIMINACION:"¿Está seguro de querer eliminar el concepto:",ELIMINACION_CORRECTA:"Concepto eliminado correctamente",ELIMINACION_INCORRECTA:"Error al eliminar concepto",CONFIRMACION_ADICION:"¿Está seguro de querer agregar el concepto:",ADICION_CORRECTA:"Concepto agregado correctamente",ADICION_INCORRECTA:"Error al agregado concepto",PENSIONADOS_MENU:"Pensionados",INGRESAR_BEN:"Ingresar beneficiarios",INGRESAR_SUS:"Ingresar sustitutos",NOMINA_MENU:"Nóminas",CONCEPTOS_MENU:"Concepto",NOVEDADES_MENU:"Novedades",REG_NOV_MENU:"Registrar novedades",CONS_NOV_MENU:"Consultar novedades",TITULO_REG_CUMPLIDO:"CUMPLIDO",NUM_DOC_IDENTIDAD:"NUMERO DOCUMENTO DE IDENTIDAD",NAME_CONTRATISTA:"NOMBRE",TIPO_DOC:"TIPO DOCUMENTO",CIUDAD_DOC:"CIUDAD",NUM_CONTRAC:"NÚMERO CONTRATO",FECH_SUSC_CONT:"FECHA SUSCRIPCIÓN CONTRATO",UNIDAD_EJE:"UNIDAD EJECUTORA",VIGENCIA:"VIGENCIA",TIPO_CUENTA:"TIPO CUENTA",BANCO:"BANCO",NUM_CUENTA:"NÚMERO CUENTA",DEPENDENCIA:"DEPENDENCIA",SUPERVISOR:"SUPERVISOR DEL CONTRATO",CARGO_SUP:"CARGO SUPERVISOR DEL CONTRATO",CUMPLIDO_MES:"CUMPLIDO DEL MES",DIAS_LABORADOS:"DÍAS LABORADOS",VALOR_COB:"VALOR A COBRAR",ACCION_CONSULTAR_NUM_DOC:"CONSULTAR INFORMACIÓN",GEN_CUMPLIDO:"GENERAR CUMPLIDO",PLACE_NUM_DOC:"Ingrese su número de documento de identidad",PLACE_MES:"-- Elija el mes al cúal corresponde el cumplido --",PLACE_DIAS_LAB:"POR FAVOR INGRESE EL RANGO DE DIAS LABORADOS",DIA_INI:"DÍA INICIO",DIA_FIN:"DÍA FIN"},text_en={TITULO:"GENERATOR-OAS",MENSAJE_INICIAL:"Now get to start to develop ...",VOLVER:"Back",SALIR:"Exit",REGISTRAR:"Record",CANCELAR:"Cancel",GENERAR:"Generate",GENERANDO:"Generating...",DETALLE:"Detail",GENERAR_PDF:"Generate PDF",SI:"Yes",NO:"No",ACTIVO:"Active",INACTIVO:"Inactive",CONFIRMAR:"Confirm",CANCELAR:"Cancel",ANADIR_NOMINA:"Add payslip",TITULO_REG_NOMINA:"Payslip's record",NOMBRE_NOMINA:"Payslip's name",DESC_NOMINA:"Description",ESTADO_NOMINA:"Status",OPCIONES_NOMINA:"Options",PRELIQUIDACION:"Preliquidations",TIPO_NOMINA:"Payslip type",TITULO_NOMINA_REGIS:"Recorded Payslips",NOMINA_REG_CORRECTA:"Payslip correctly recorded",NOMINA_REG_INCORRECTA:"Error in payslip's record",ANADIR_PRELIQ:"Add pre-liquidation",TITULO_REG_PRELIQ:"Pre-liquidation's record",DESC_PRELIQ:"Description",ANO_PRELIQ:"Year",MES_PRELIQ:"Month",ESTADO_PRELIQ:"Status",TITULO_PRELIQ_REGIS:"Pre-liquidation to the payslip",FECHA_PRELIQ:"Record date",OPCIONES_PRELIQ:"Options",PRELIQ_REG_CORRECTA:"Pre-liquidation correctly recorded",PRELIQ_REG_INCORRECTA:"Error in pre-liquidation record",ALERTA_PRELIQUIDACION_CERRADA:"This pre-liquidation is closed",PRELIQ_NOMINA:"People for pre-liquidation in payslip: ",NUM_CONTRATO:"Contract Number",NOMBRE_PERSONA:"Name",DOCUMENTO:"Identification",VIGENCIA:"Term",ALERTA_PERSONAS_SIN_SS:"The selected people cannot be pay off due to incomplete data",TITULO_DETALLE_PRELIQ:"Pre-liquidation payslip detail: ",RESUMEN_PRELIQ:"Pre-liquidation's summary",CONCEPTO:"Concept",VALOR:"Value",NATURALEZA:"Nature",TIPO:"Type",TOTAL:"Total",TOTAL_DEV:"Total earned:",TOTAL_DESC:"Total deducted:",TOTAL_PAGAR:"Total to pay:",SUELDOS_NETOS:"Net salaries:",GENERAR_NECESIDAD:"Create necesity",DETALLE_EMP:"Employee's detail",ALERTA_PERSONAS_SELECCIONADAS:"You must select people to pay off",ALERTA_NO_LIQUIDACION:"This Pre-liquidation has already been pay off",TITULO_DETALLE_LIQ:"Liquidation payslip detail: ",RESUMEN_LIQ:"Liquidation's summary",SELECCION_PERSONA:"Person selection",AGREGAR_NOVEDAD:"Add change",DETALLE_NOVEDAD:"Changes' detail",ALERTA_NO_NOVEDADES:"There are not recorded changes",TITULO_REG_NOVEDAD:"Adding a new change",NOMBRE_CONCEPTO_NOVEDAD:"Concept",VALOR_CONCEPTO_NOVEDAD:"Change value",NUMCUOTAS_CONCEPTO_NOVEDAD:"Fees",VALOR_CONCEPTO:"Value",CUOTAS_NOV:"Fees",TIPO_CONCEPTO:"Type",FECHA_INICIO:"Start date",FECHA_FIN:"End date",TITULO_EDICION_NOVEDAD:"Change edit",FECHA_REGISTRO:"Record date",NOVEDAD_REG_CORRECTO:"Change correctly recorded",NOVEDAD_REG_ERROR:"Error in changes' record",CONFIRMACION_INACTIVIDAD_NOV:"Are you sure you want to disable the change : ",INACTIVIDAD_CORRECTA_NOV:"Change correctly disabled",INACTIVIDAD_INCORRECTA_NOV:"Error in disabling change",CONFIRMACION_EDICION_NOV:"Are you sure you want to edit the change: ",EDICION_CORRECTA_NOV:"Change correctly modified",EDICION_INCORRECTA_NOV:"Error in modifying change",TITULO_REG_BEN:"Beneficiary's record",TIPO_DOC_BEN:"Identification type",NUM_DOC_BEN:"Identification",NOM_BEN:"Beneficiary's name",APE_BEN:"Beneficiary's surname",PARENTESCO:"Relationship",PARENTESCO_CON:"Relationship with",GENERO:"Gender",CORREO_ELEC:"E-mail",NUMERO_CONTACTO:"Contact number",FECHA_NAC_BEN:"Birthdate",APLICA_SUB_FAMILIAR:"Applies family subsidy",APLICA_SUB_ESTUDIO:"Applies study subsidy",TIPO_CUENTA:"Bank account type",NUMERO_CUENTA:"Bank account number",BANCO_ASOCIADO:"Associated bank",ESTADO_BEN:"Status",SELECCIONE:"Select...",CED_CIU:"Identification",CEDULA_EXTRAN:"Foreigner ID",TARJETA_IDEN:"Identity card",MASCULINO:"Male",FEMENINO:"Female",PRI_APE:"First surname",SEG_APE:"Second surname",PRI_NOM:"First name",SEG_NOM:"Second name",AHORROS:"Savings",CORRIENTE:"Checking",ALERTA_BEN_CORRECTO:"Beneficiary correctly recorded",ALERTA_BEN_INCORRECTO:"Error in record",TITULO_SUS:"Substitute record",DOC_FUN_PEN:"Pensioned worker's ID",DOC_BEN_SUS:"Substitute ID",PORCENTAJE:"Pension's Percentage assigned to substitute",ESTADO_SUS:"Status",TITULO_TUTOR:"  If substitute is under eighteen, you must record a tutor",TITULO_REG_TUTOR:"Tutor's record",TIPO_DOC_TUTOR:"Identification type",NUM_DOC_TUTOR:"Identification",NOM_TUTOR:"Tutor's names",APE_TUTOR:"Tutor's surnames",BEN_ASOCIADO:"Associated beneficiary",HABILITAR_BENEFICIARIO:"Set up beneficiary",ID_BENEFICIARIO:"Beneficiary ID",ALERTA_SUS_INCOMPLETO:"There's no data to record information about tutor",ALERTA_REG_SUS_CORRECTO:"Substitute correctly recorded",ALERTA_REG_SUS_INCORRECTO:"Error in substitute's record",NOMBRE_RUBRO:"Rubro en inglés",NOMBRE_BENEFICIARIO:"Beneficiary",NOMBRE_ORDEN_PAGO:"Payment order",FECHA_PDF:"Date",CONCEPTO_PDF:"Concept",NOMBRE_RUBRO_ASOCIADO:"Rubro asociado en inglés",DETALLE_PAGO_PDF:"Payment detail",DEVENGOS_PDF:"Incomes",DESCUENTOS_PDF:"Discounts",VALOR_PDF:"Values",ALERTA_SELECCION_PERSONAS_PDF:"Please select people to generate PDF",PAGO_PERIODO_PDF:"Payment for term: ",TITULO_DETALLE_PAGO_PDF:"Payment detail",TOTAL_DEVENGADO_PDF:"Total payed",TOTAL_DESCUENTOS_PDF:"Total deducted",TITULO_GENERAL:"RECORDED CONCEPTS",TITULO_EDICION:"CONCEPT EDITING",TITULO_ADICION:"NEW CONCEPT",ANADIR_CONCEPTO:"Add concept",CONCEPTO_NOMBRE:"Concept name",NATURALEZA_NOMBRE:"Nature",TIPO_NOMBRE:"Type",ACCIONES:"Actions",CONFIRMACION_EDICION:"Are you sure you want to update the concept:",ACTUALIZACION_CORRECTA:"Concept correctly updated",ACTUALIZACION_INCORRECTA:"Error updating concept",CONFIRMACION_ELIMINACION:"Are you sure you want to delete the concept:",ELIMINACION_CORRECTA:"Concept correctly deleted",ELIMINACION_INCORRECTA:"Error deleting concept",CONFIRMACION_ADICION:"Are you sure you cant to add the concept:",ADICION_CORRECTA:"Concept correctly added",ADICION_INCORRECTA:"Error adding concepto",PENSIONADOS_MENU:"Retirees",INGRESAR_BEN:"Record beneficiaries",INGRESAR_SUS:"Record substitutes",NOMINA_MENU:"Payslips",CONCEPTOS_MENU:"Concepts",NOVEDADES_MENU:"Changes",REG_NOV_MENU:"Record changes",CONS_NOV_MENU:"List changes",TITULO_REG_CUMPLIDO:"COMPLIMENT",NUM_DOC_IDENTIDAD:"IDENTITY DOCUMENT NUMBER",NAME_CONTRATISTA:"NAME",TIPO_DOC:"TYPE DOCUMENT",CIUDAD_DOC:"CITY",NUM_CONTRAC:"CONTRACT NUMBER",FECH_SUSC_CONT:"DATE SUBSCRIPTION CONTRACT",UNIDAD_EJE:"EXECUTIVE UNIT",VIGENCIA:"VALIDITY",TIPO_CUENTA:"ACCOUNT TYPE",BANCO:"BANK",NUM_CUENTA:"ACCOUNT NUMBER",DEPENDENCIA:"DEPENDENCE",SUPERVISOR:"CONTRACT SUPERVISOR",CARGO_SUP:"CONTRACT SUPERVISORY CHARGE",CUMPLIDO_MES:"MONTH COMPLIMENT",DIAS_LABORADOS:"WORKING DAYS",VALOR_COB:"VALUE TO BE CHARGED",ACCION_CONSULTAR_NUM_DOC:"CONSULT INFORMATION",GEN_CUMPLIDO:"GENERATE COMPLIMENT",PLACE_NUM_DOC:"Enter your identity document number",PLACE_MES:"-- Choose the month to which the compliment corresponds --",PLACE_DIAS_LAB:"PLEASE ENTER THE RANGE OF WORK DAYS",DIA_INI:"START DAY",DIA_FIN:"END DAY"};angular.module("titanClienteV2App").config(["$translateProvider",function(a){a.translations("es",text_es).translations("en",text_en),a.preferredLanguage("es"),a.useSanitizeValueStrategy("sanitizeParameters")}]),angular.module("titanClienteV2App").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("titanService",[]).factory("titanRequest",["$http",function(a){var b="http://10.20.0.254/titan_api_crud/v1/";return{get:function(c,d){return a.get(b+c+"/?"+d)},post:function(c,d){return a.post(b+c,d)},put:function(c,d,e){return a.put(b+c+"/"+d,e)},"delete":function(c,d){return a["delete"](b+c+"/"+d)}}}]),angular.module("titanClienteV2App").factory("nomina",function(){return{}}).controller("NominaNominaConsultaCtrl",["titanRequest","$window","nomina","$translate","$routeParams",function(a,b,c,d,e){var f=this;f.tipo=e.tipo,f.formVisibility=!1,f.ShowForm=function(){f.formVisibility=!0},f.gridOptions={enableFiltering:!1,enableSorting:!0,treeRowHeaderAlwaysVisible:!1,showTreeExpandNoChildren:!1,columnDefs:[{field:"Id",visible:!1},{field:"Descripcion",displayName:d.instant("DESC_NOMINA")},{field:"TipoNomina",visible:!1},{field:"Activo",displayName:d.instant("ESTADO_NOMINA"),cellTemplate:"<div class='ui-grid-cell-contents'>{{row.entity.Activo ? 'Activa' : 'Inactiva'}}</div>"},{field:"Opciones",displayName:d.instant("OPCIONES_NOMINA"),cellTemplate:'<button class="btn" ng-click="grid.appScope.nominaConsulta.consulta_preliquidacion(row)">'+d.instant("PRELIQUIDACION")+"</button>"}]},a.get("nomina","limit=0&query=TipoNomina.Nombre:"+f.tipo+"&sortby=Id&order=desc").then(function(a){console.log(a),f.gridOptions.data=a.data}),a.get("tipo_nomina","limit=0&query=Nombre:"+f.tipo+"&sortby=Id&order=desc").then(function(a){f.tipoNomina=a.data}),f.limpiar=function(){f.formVisibility=!1},f.transformar_bool=function(a){return a.entity.Activo?"active":"inactive"},f.registrar_nomina=function(){var c=JSON.parse(f.selectTipoNomina),e={Id:c.Id},g={Descripcion:c.Descripcion,TipoNomina:e,Activo:Boolean("true")};a.post("nomina",g).then(function(c){console.log(c.data),"object"==typeof c.data&&(swal({html:d.instant("NOMINA_REG_CORRECTA"),type:"success",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:d.instant("VOLVER")}).then(function(){b.location.href="#/nomina/nomina_consulta/"+f.tipo}),a.get("nomina","limit=0&sortby=Id&order=desc").then(function(a){f.gridOptions.data=a.data})),"string"==typeof c.data&&swal({html:d.instant("NOMINA_REG_INCORRECTA"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:d.instant("VOLVER")}).then(function(){b.location.href="#/nomina/nomina_consulta/"+f.tipo})}),f.formVisibility=!1},f.consulta_preliquidacion=function(a){var d={Id:a.entity.TipoNomina.Id,Nombre:a.entity.TipoNomina.Nombre};f.nomina=c,f.nomina.Id=a.entity.Id,f.nomina.Descripcion=a.entity.Descripcion,f.nomina.TipoNomina=d,f.nomina.Activo=a.entity.Activo,b.location.href="#/preliquidacion/preliquidacion_registro"}}]),angular.module("titanClienteV2App").factory("preliquidacion",function(){return{}}).controller("PreliquidacionPreliquidacionRegistroCtrl",["titanRequest","nomina","preliquidacion","$window","$translate",function(a,b,c,d,e){var f=this;f.formVisibility=!1,f.loading=!1,f.nomina=b,f.CurrentDate=new Date,f.ShowForm=function(){f.formVisibility=!0},f.gridOptions={enableFiltering:!1,enableSorting:!0,treeRowHeaderAlwaysVisible:!1,showTreeExpandNoChildren:!1,columnDefs:[{field:"Id",visible:!1},{field:"Descripcion",displayName:e.instant("DESC_PRELIQ")},{field:"Mes",displayName:e.instant("MES_PRELIQ")},{field:"Ano",displayName:e.instant("ANO_PRELIQ")},{field:"FechaRegistro",displayName:e.instant("FECHA_PRELIQ"),cellTemplate:'<span>{{row.entity.FechaRegistro | date:"yyyy-MM-dd" :"+0900"}}</span>'},{field:"EstadoPreliquidacion.Nombre",displayName:e.instant("ESTADO_PRELIQ")},{field:"Opciones",displayName:e.instant("OPCIONES_PRELIQ"),cellTemplate:'<button class="btn btn btn-sm btn-primary" ng-click="grid.appScope.preliquidacionRegistro.generar_preliquidacion(row)">'+e.instant("GENERAR")+'</button><button class="btn btn-sm btn-primary" ng-click="grid.appScope.preliquidacionRegistro.detalle_preliquidacion(row)">'+e.instant("DETALLE")+"</button>"}]},a.get("preliquidacion","limit=0&query=Nomina.Id:"+f.nomina.Id+"&sortby=Id&order=desc").then(function(a){f.gridOptions.data=a.data}),a.get("estado_preliquidacion","limit=0&query=Nombre:Abierta").then(function(a){f.EstadoPreliquidacion=a.data,console.log(f.EstadoPreliquidacion)}),f.limpiar=function(){f.formVisibility=!1},f.registrar_preliqu=function(){var b={Id:parseInt(f.nomina.Id)},c={Id:parseInt(f.EstadoPreliquidacion[0].Id)},g={Nomina:b,Descripcion:f.nomina.Descripcion+"-"+f.AnoPreliq+f.MesPreliq,Mes:parseInt(f.MesPreliq),Ano:parseInt(f.AnoPreliq),FechaRegistro:f.CurrentDate,EstadoPreliquidacion:c};a.post("preliquidacion",g).then(function(b){console.log(b.data),"object"==typeof b.data&&(swal({html:e.instant("PRELIQ_REG_CORRECTA"),type:"success",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:e.instant("VOLVER")}).then(function(){d.location.href="#/nomina/nomina_consulta/"+f.nomina.TipoNomina.Nombre}),a.get("preliquidacion","limit=0&query=Nomina.Id:"+f.nomina.Id+"&sortby=Id&order=desc").then(function(a){f.gridOptions.data=a.data})),"string"==typeof b.data&&(swal({html:e.instant("PRELIQ_REG_INCORRECTA"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:e.instant("VOLVER")}).then(function(){d.location.href="#/nomina/nomina_consulta/"+f.nomina.TipoNomina.Nombre}),console.log("error: "+b.data))}),f.formVisibility=!1},f.generar_preliquidacion=function(a){"Cerrada"==a.entity.EstadoPreliquidacion.Nombre?swal({html:e.instant("ALERTA_PRELIQUIDACION_CERRADA"),type:"error",showCancelButton:!0,confirmButtonColor:"#449D44",cancelButtonColor:"#C9302C",confirmButtonText:e.instant("VOLVER"),cancelButtonText:e.instant("SALIR")}).then(function(){d.location.href="#/nomina/nomina_consulta"},function(a){"cancel"===a&&(d.location.href="#/nomina/nomina_consulta")}):(f.preliquidacion=c,f.preliquidacion.Id=a.entity.Id,f.preliquidacion.Descripcion=a.entity.Descripcion,f.preliquidacion.Mes=a.entity.Mes,f.preliquidacion.Ano=a.entity.Ano,f.preliquidacion.EstadoPreliquidacion=a.entity.EstadoPreliquidacion,f.preliquidacion.FechaRegistro=a.entity.FechaRegistro,f.preliquidacion.Nomina=f.nomina,d.location.href="#/preliquidacion/preliquidacion_personas")},f.detalle_preliquidacion=function(a){f.preliquidacion=c,f.preliquidacion.Id=a.entity.Id,f.preliquidacion.Descripcion=a.entity.Descripcion,f.preliquidacion.Mes=a.entity.Mes,f.preliquidacion.Ano=a.entity.Ano,f.preliquidacion.EstadoPreliquidacion=a.entity.EstadoPreliquidacion,f.preliquidacion.FechaRegistro=a.entity.FechaRegistro,f.preliquidacion.Nomina=f.nomina,console.log(a.entity),d.location.href="#/preliquidacion/preliquidacion_detalle"}}]),angular.module("titanClienteV2App").controller("PreliquidacionPreliquidacionPersonasCtrl",["titanMidRequest","preliquidacion","titanRequest","nomina","$window","$translate",function(a,b,c,d,e,f){var g=this;if(g.nomina=d,g.preliquidacion=b,g.generar_disponibilidad,g.btnGenerartxt=f.instant("GENERAR"),g.saving=!1,console.log(g.preliquidacion),("HCH"===g.nomina.TipoNomina.Nombre||"HCS"===g.nomina.TipoNomina.Nombre)&&(g.gridOptions={enableFiltering:!0,enableSorting:!0,enableRowSelection:!0,enableSelectAll:!0,columnDefs:[{field:"Id",visible:!1},{field:"NumDocumento",displayName:f.instant("DOCUMENTO")},{field:"NombreProveedor",displayName:f.instant("NOMBRE_PERSONA")},{field:"NumeroContrato",displayName:f.instant("NUM_CONTRATO")},{field:"VigenciaContrato",displayName:f.instant("VIGENCIA")},{field:"IdEPS",visible:!1},{field:"IdARL",visible:!1},{field:"IdFondoPension",visible:!1},{field:"IdCajaCompensacion",visible:!1}],onRegisterApi:function(a){g.gridApi=a}},c.post("funcionario_proveedor",d).then(function(a){g.gridOptions.data=a.data}),g.generar_preliquidacion=function(){for(var b=g.gridApi.selection.getSelectedRows(),d=[],h=0;h<b.length;h++){var i={IdPersona:b[h].Id,NumDocumento:b[h].NumDocumento,NumeroContrato:b[h].NumeroContrato,VigenciaContrato:parseInt(b[h].VigenciaContrato)};d.push(i)}var j={Preliquidacion:g.preliquidacion,PersonasPreLiquidacion:d};c["delete"]("detalle_preliquidacion",""+g.preliquidacion.Id).then(function(a){console.log("respuesta a borrar"),console.log(a.data)}),g.saving=!0,g.btnGenerartxt=f.instant("GENERANDO"),a.post("preliquidacion",j).then(function(a){g.saving=!1,g.btnGenerartxt=f.instant("GENERAR"),e.location.href="#/preliquidacion/preliquidacion_detalle";
})}),"FP"===g.nomina.TipoNomina.Nombre){var h='<div ng-class="{\'personas_liquidar\':true, \'personas_no_liquidar\':row.entity.IdEPS==0 || row.entity.IdARL==0 || row.entity.IdFondoPension==0 || row.entity.IdCajaCompensacion==0}"><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div></div>';g.gridOptions={enableFiltering:!0,enableSorting:!0,enableRowSelection:!0,enableSelectAll:!0,rowTemplate:h,columnDefs:[{field:"Id",visible:!1},{field:"NumDocumento",displayName:f.instant("DOCUMENTO")},{field:"NombreProveedor",displayName:f.instant("NOMBRE_PERSONA")},{field:"NumeroContrato",displayName:f.instant("NUM_CONTRATO")},{field:"VigenciaContrato",displayName:f.instant("VIGENCIA")}],onRegisterApi:function(a){g.gridApi=a}},c.post("funcionario_proveedor",d).then(function(a){g.gridOptions.data=a.data}),g.generar_preliquidacion=function(){for(var b=g.gridApi.selection.getSelectedRows(),d=[],h=[],i=0;i<b.length;i++)if(0===b[i].IdEPS||0===b[i].IdARL||0===b[i].IdFondoPension||0===b[i].IdCajaCompensacion){var j={IdPersona:b[i].Id,NumDocumento:b[i].NumDocumento,NumeroContrato:b[i].NumeroContrato,VigenciaContrato:parseInt(b[i].VigenciaContrato)};d.push(j)}if(0!=d.length)swal({html:f.instant("ALERTA_PERSONAS_SIN_SS"),type:"error",showCancelButton:!0,confirmButtonColor:"#449D44",cancelButtonColor:"#C9302C",confirmButtonText:f.instant("VOLVER"),cancelButtonText:f.instant("SALIR")}).then(function(){e.location.href="#/nomina/nomina_consulta"},function(a){"cancel"===a&&(e.location.href="#/nomina/nomina_consulta")});else{for(var i=0;i<b.length;i++){var j={IdPersona:b[i].Id,NumDocumento:b[i].NumDocumento,NumeroContrato:b[i].NumeroContrato,VigenciaContrato:parseInt(b[i].VigenciaContrato)};h.push(j)}var k={Preliquidacion:g.preliquidacion,PersonasPreLiquidacion:h};c["delete"]("detalle_preliquidacion",""+g.preliquidacion.Id).then(function(a){}),g.saving=!0,g.btnGenerartxt=f.instant("GENERANDO"),a.post("preliquidacion",k).then(function(a){g.saving=!1,g.btnGenerartxt=f.instant("GENERAR"),e.location.href="#/preliquidacion/preliquidacion_detalle"})}}}"DP"===g.nomina.TipoNomina.Nombre&&(g.gridOptions={enableFiltering:!0,enableSorting:!0,enableRowSelection:!0,enableSelectAll:!0,columnDefs:[{field:"Id",visible:!1},{field:"NumDocumento",displayName:f.instant("DOCUMENTO")},{field:"NombreProveedor",displayName:f.instant("NOMBRE_PERSONA")},{field:"NumeroContrato",displayName:f.instant("NUM_CONTRATO")},{field:"VigenciaContrato",displayName:f.instant("VIGENCIA")}],onRegisterApi:function(a){g.gridApi=a}},c.post("funcionario_proveedor",d).then(function(a){g.gridOptions.data=a.data}),g.generar_preliquidacion=function(){for(var b=g.gridApi.selection.getSelectedRows(),d=[],h=0;h<b.length;h++){var i={IdPersona:b[h].Id,NumDocumento:b[h].NumDocumento,NumeroContrato:b[h].NumeroContrato,VigenciaContrato:parseInt(b[h].VigenciaContrato)};d.push(i)}var j={Preliquidacion:g.preliquidacion,PersonasPreLiquidacion:d};c["delete"]("detalle_preliquidacion",""+g.preliquidacion.Id).then(function(a){}),g.saving=!0,g.btnGenerartxt=f.instant("GENERANDO"),a.post("preliquidacion",j).then(function(a){g.saving=!1,g.btnGenerartxt=f.instant("GENERAR"),e.location.href="#/preliquidacion/preliquidacion_detalle"})}),"CT"===g.nomina.TipoNomina.Nombre&&(g.gridOptions={enableFiltering:!0,enableSorting:!0,enableRowSelection:!0,enableSelectAll:!0,columnDefs:[{field:"Id",visible:!1},{field:"NumDocumento",displayName:f.instant("DOCUMENTO")},{field:"NombreProveedor",displayName:f.instant("NOMBRE_PERSONA")},{field:"NumeroContrato",displayName:f.instant("NUM_CONTRATO")},{field:"VigenciaContrato",displayName:f.instant("VIGENCIA")}],onRegisterApi:function(a){g.gridApi=a}},c.post("funcionario_proveedor",d).then(function(a){g.gridOptions.data=a.data}),g.generar_preliquidacion=function(){for(var b=g.gridApi.selection.getSelectedRows(),d=[],h=0;h<b.length;h++){var i={IdPersona:b[h].Id,NumDocumento:b[h].NumDocumento,NumeroContrato:b[h].NumeroContrato,VigenciaContrato:parseInt(b[h].VigenciaContrato)};d.push(i)}var j={Preliquidacion:g.preliquidacion,PersonasPreLiquidacion:d};c["delete"]("detalle_preliquidacion",""+g.preliquidacion.Id).then(function(a){}),g.saving=!0,g.btnGenerartxt=f.instant("GENERANDO"),a.post("preliquidacion",j).then(function(a){g.saving=!1,g.btnGenerartxt=f.instant("GENERAR"),e.location.href="#/preliquidacion/preliquidacion_detalle"})}),"PE"===g.nomina.TipoNomina.Nombre&&(g.gridOptions={enableFiltering:!0,enableSorting:!0,enableRowSelection:!0,enableSelectAll:!0,columnDefs:[{field:"Id",visible:!1},{field:"NumDocumento",displayName:f.instant("DOCUMENTO")},{field:"NombreProveedor",displayName:f.instant("NOMBRE_PERSONA")},{field:"NumeroContrato",displayName:f.instant("NUM_CONTRATO")},{field:"VigenciaContrato",displayName:f.instant("VIGENCIA")}],onRegisterApi:function(a){g.gridApi=a}},c.post("funcionario_proveedor",d).then(function(a){g.gridOptions.data=a.data}),g.generar_preliquidacion=function(){for(var b=g.gridApi.selection.getSelectedRows(),d=[],h=0;h<b.length;h++){var i={IdPersona:b[h].Id,NumDocumento:b[h].NumDocumento,NumeroContrato:b[h].NumeroContrato,VigenciaContrato:parseInt(b[h].VigenciaContrato)};d.push(i)}var j={Preliquidacion:g.preliquidacion,PersonasPreLiquidacion:d};c["delete"]("detalle_preliquidacion",""+g.preliquidacion.Id).then(function(a){}),g.saving=!0,g.btnGenerartxt=f.instant("GENERANDO"),a.post("preliquidacion",j).then(function(a){g.saving=!1,g.btnGenerartxt=f.instant("GENERAR"),e.location.href="#/preliquidacion/preliquidacion_detalle"})})}]),angular.module("titanMidService",[]).factory("titanMidRequest",["$http",function(a){var b="http://10.20.0.254/titan_api_mid/v1/";return{get:function(c,d){return a.get(b+c+"/?"+d)},post:function(c,d){return a.post(b+c,d)},put:function(c,d,e){return a.put(b+c+"/"+d,e)},"delete":function(c,d){return a["delete"](b+c+"/"+d)}}}]),angular.module("titanClienteV2App").controller("PreliquidacionPreliquidacionDetalleCtrl",["$scope","titanMidRequest","titanRequest","preliquidacion","$window","$translate","$http",function(a,b,c,d,e,f,g){var h=this;h.numero_conceptos=0,h.resumen_conceptos,h.imagen_ud,h.seleccion_sueldoNeto=0,h.respuesta_persona,h.respuesta_conceptos,h.preliquidacion=d,h.gridOptions={enableFiltering:!1,enableSorting:!0,enableRowSelection:!0,enableSelectAll:!0,columnDefs:[{field:"IdPersona",visible:!1},{field:"NumeroContrato",displayName:f.instant("NUM_CONTRATO"),cellTemplate:'<button class="btn btn-link btn-block" ng-click="grid.appScope.preliquidacionDetalle.ver_seleccion_persona(row)" >{{row.entity.NumeroContrato}}</button>'},{field:"NomProveedor",displayName:f.instant("NOMBRE_PERSONA")},{field:"NumDocumento",displayName:f.instant("DOCUMENTO")}],onRegisterApi:function(a){h.gridApi=a}},c.post("preliquidacion/resumen",d).then(function(a){for(var b={},c=0,d=0;d<a.data.length;d++)for(var e=0;e<a.data[d].Conceptos.length;e++)"devengo"===a.data[d].Conceptos[e].Naturaleza?(c+=parseInt(a.data[d].Conceptos[e].Valor),null!=b[a.data[d].Conceptos[e].Nombre]?b[a.data[d].Conceptos[e].Nombre]+=parseInt(a.data[d].Conceptos[e].Valor):b[a.data[d].Conceptos[e].Nombre]=parseInt(a.data[d].Conceptos[e].Valor)):"descuento"===a.data[d].Conceptos[e].Naturaleza&&(c-=parseInt(a.data[d].Conceptos[e].Valor),null!=b[a.data[d].Conceptos[e].Nombre]?b[a.data[d].Conceptos[e].Nombre]+=parseInt(a.data[d].Conceptos[e].Valor):b[a.data[d].Conceptos[e].Nombre]=parseInt(a.data[d].Conceptos[e].Valor));h.gridOptions.data=a.data,h.total_sueldos_neto=c,h.resumen_conceptos=b,h.respuesta_persona=a.data}),h.ver_seleccion_persona=function(a){h.seleccion_conceptos=null,h.seleccion_conceptos=a.entity.Conceptos;for(var b=0,c=0,d=0,e=0;e<h.seleccion_conceptos.length;e++)"devengo"===h.seleccion_conceptos[e].Naturaleza?(b+=parseInt(h.seleccion_conceptos[e].Valor),d+=parseInt(h.seleccion_conceptos[e].Valor)):"descuento"===h.seleccion_conceptos[e].Naturaleza&&(b-=parseInt(h.seleccion_conceptos[e].Valor),c+=parseInt(h.seleccion_conceptos[e].Valor));h.seleccion_sueldoNeto=b,h.seleccion_tot_descuentos=c,h.seleccion_tot_devengo=d},h.solicitar_necesidad=function(){alert("solicitud necesidad")},h.generar_pdf=function(){g.get("scripts/models/imagen_ud.json").then(function(a){h.imagen_ud=a.data;var b=h.gridApi.selection.getSelectedRows();0==b.length?swal({html:f.instant("ALERTA_SELECCION_PERSONAS_PDF"),type:"error",showCancelButton:!0,confirmButtonColor:"#449D44",cancelButtonColor:"#C9302C",confirmButtonText:f.instant("VOLVER"),cancelButtonText:f.instant("SALIR")}).then(function(){e.location.href="#/nomina/nomina_consulta"},function(a){"cancel"===a&&(e.location.href="#/nomina/nomina_consulta")}):h.generar_reporte_para_todos(b)})},h.generar_reporte_para_todos=function(a){var b=[],c=h.preliquidacion.Mes,d=h.preliquidacion.Ano,e=h.preliquidacion.Nomina.Descripcion;angular.forEach(a,function(e,g){var i,j,k,l,m,n,o,p,q=[],r=[],s=0,t=0,u=(new Date).toJSON().slice(0,10).replace(/-/g,"/");i=4+i;var v=[[{text:f.instant("PAGO_PERIODO_PDF")+d+"-"+c,style:"tableHeader",colSpan:5,alignment:"center"},{},{},{},{}],[{text:f.instant("NOMBRE_RUBRO"),style:"tableHeader",alignment:"center"},{text:f.instant("NOMBRE_BENEFICIARIO"),style:"tableHeader",alignment:"center"},{text:f.instant("NOMBRE_ORDEN_PAGO"),style:"tableHeader",alignment:"center"},{text:f.instant("FECHA_PDF"),style:"tableHeader",alignment:"center"},{text:f.instant("CONCEPTO_PDF"),style:"tableHeader",alignment:"center"}]];m={columns:[{width:"auto",stack:[{image:h.imagen_ud.imagen,alignment:"left",width:100,margin:[0,0,0,0]}]},{width:"*",alignment:"right",stack:[{style:"header",text:"\n"+f.instant("TITULO_DETALLE_PAGO_PDF")+"\n"+u}]}]},n={text:"\n"},o={table:{headerRows:1,body:v}},p={text:" ",pageBreak:"after"};for(var w=0;w<h.respuesta_persona.length;w++)if(h.respuesta_persona[w].IdPersona==e.IdPersona){h.numero_de_conceptos(e),i=4+h.numero_conceptos+2,v.push([{rowSpan:i,text:"Rubro asociado"},{text:e.NomProveedor},"12345",{text:u},"Pago de nómina reserva sistema integral de información de diferentes cps correspondiente al mes de enero con sus respectivos soportes"],[{},{text:f.instant("DETALLE_PAGO_PDF"),style:"tableHeader",colSpan:4,alignment:"center"},{},{},{}]);for(var x=0;x<h.respuesta_persona[w].Conceptos.length;x++)j=parseInt(h.respuesta_persona[w].Conceptos[x].Valor),j=j.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),"devengo"===h.respuesta_persona[w].Conceptos[x].Naturaleza&&(q.push([{},{text:h.respuesta_persona[w].Conceptos[x].Nombre,colSpan:3,alignment:"left"},{},{},{text:j,alignment:"right"}]),t+=parseInt(h.respuesta_persona[w].Conceptos[x].Valor)),"descuento"===h.respuesta_persona[w].Conceptos[x].Naturaleza&&(r.push([{},{text:h.respuesta_persona[w].Conceptos[x].Nombre,colSpan:3,alignment:"left"},{},{},{text:j,alignment:"right"}]),s+=parseInt(h.respuesta_persona[w].Conceptos[x].Valor))}k=t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),q.push([{},{text:f.instant("TOTAL_DEVENGADO_PDF"),style:"tableHeader",colSpan:3,alignment:"right"},{},{},{text:k,style:"tableHeader",alignment:"right"}]),v.push([{},{text:f.instant("DEVENGOS_PDF"),style:"tableHeader",colSpan:3,alignment:"center"},{},{},{text:f.instant("VALOR_PDF"),style:"tableHeader",alignment:"center"}]);for(var w=0;w<q.length;w++)v.push(q[w]);l=s.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),r.push([{},{text:f.instant("TOTAL_DESCUENTOS_PDF"),style:"tableHeader",colSpan:3,alignment:"right"},{},{},{text:l,style:"tableHeader",alignment:"right"}]),v.push([{},{text:f.instant("DESCUENTOS_PDF"),style:"tableHeader",colSpan:3,alignment:"center"},{},{},{text:f.instant("VALOR_PDF"),style:"tableHeader",alignment:"center"}]);for(var w=0;w<r.length;w++)v.push(r[w]);var y=a.length-1;y==g?(b.push(m),b.push(n),b.push(o)):(b.push(m),b.push(n),b.push(o),b.push(p)),h.numero_conceptos=0});var g={content:b,styles:{header:{fontSize:18,bold:!0,margin:[0,0,0,10]},subheader:{fontSize:16,bold:!0,margin:[0,10,0,5]},tableExample:{margin:[0,5,0,15]},tableHeader:{bold:!0,fontSize:13,color:"black"}}};pdfMake.createPdf(g).download(e+"- "+d+"-"+c)},h.numero_de_conceptos=function(a){for(var b=0;b<h.respuesta_persona.length;b++)if(h.respuesta_persona[b].IdPersona==a.IdPersona)for(var c=0;c<h.respuesta_persona[b].Conceptos.length;c++)"devengo"===h.respuesta_persona[b].Conceptos[c].Naturaleza&&(h.numero_conceptos=h.numero_conceptos+1),"descuento"===h.respuesta_persona[b].Conceptos[c].Naturaleza&&(h.numero_conceptos=h.numero_conceptos+1)}}]),angular.module("titanClienteV2App").controller("NovedadesNovedadRegistroCtrl",["titanRequest","$scope","$translate","$routeParams","$window",function(a,b,c,d,e){var f=this;f.tipo=d.tipo,f.Nomina,f.CurrentDate=new Date,f.id_edicion,f.id_concepto_edicion,f.tipo_concepto_edicion,f.activo_edicion,f.num_cuotas_edicion,f.id_nomina_edicion,f.valor_novedad_edicion,f.persona_edicion,f.concepto_nombre_edicion,b.botones=[{clase_color:"editar",clase_css:"fa fa-pencil fa-lg  faa-shake animated-hover",titulo:c.instant("BTN.EDITAR"),operacion:"edit",estado:!0},{clase_color:"borrar",clase_css:"fa fa-trash fa-lg  faa-shake animated-hover",titulo:c.instant("BTN.BORRAR"),operacion:"delete",estado:!0}];var g={Id:0,Nombre:"",Activo:Boolean("true")},h={Id:0,Nombre:f.tipo,Activo:Boolean("true")},i={Id:0,Descripcion:"",TipoVinculacion:g,TipoNomina:h,Activo:Boolean("true")};a.get("nomina","limit=0&query=TipoNomina.Nombre:"+f.tipo+"&sortby=Id&order=desc").then(function(a){f.Nomina=a.data[0]}),b.gridOptions_personas={enableFiltering:!0,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,columnDefs:[{field:"Id",visible:!1},{field:"NumeroContrato",displayName:c.instant("NUM_CONTRATO")},{field:"NombreProveedor",displayName:c.instant("NOMBRE_PERSONA")},{field:"NumDocumento",displayName:c.instant("DOCUMENTO")}],onRegisterApi:function(a){f.gridApi=a}},b.gridOptions_novedades={enableFiltering:!0,enableSorting:!0,enableRowSelection:!1,enableRowHeaderSelection:!1,columnDefs:[{field:"Id",visible:!1},{field:"Concepto.Id",visible:!1},{field:"Concepto.AliasConcepto",displayName:c.instant("NOMBRE_CONCEPTO_NOVEDAD")},{field:"Concepto.TipoConcepto.Nombre",visible:!1},{field:"ValorNovedad",displayName:c.instant("VALOR_CONCEPTO_NOVEDAD")},{field:"NumCuotas",displayName:c.instant("NUMCUOTAS_CONCEPTO_NOVEDAD")},{field:"FechaDesde",visible:!1},{field:"FechaHasta",visible:!1},{field:"FechaRegistro",displayName:c.instant("FECHA_REGISTRO"),cellTemplate:'<span>{{row.entity.FechaRegistro| date:"yyyy-MM-dd":"+0900"}}</span>'},{field:"Activo",visible:!1},{field:"Nomina.Id",visible:!1},{field:"Acciones",displayName:c.instant("ACCIONES"),cellTemplate:'<center><btn-registro funcion="grid.appScope.loadrow(fila,operacion)" grupobotones="grid.appScope.botones" fila="row"></btn-registro><center>'}],onRegisterApi:function(a){f.gridApi=a}},b.gridOptions_conceptos={enableFiltering:!0,enableSorting:!0,enableRowSelection:!0,enableRowHeaderSelection:!1,columnDefs:[{field:"Id",visible:!1},{field:"AliasConcepto",displayName:c.instant("CONCEPTO")},{field:"NaturalezaConcepto.Id",visible:!1},{field:"TipoConcepto.Id",visible:!1}]},b.gridOptions_personas.onRegisterApi=function(c){f.gridApi=c,c.selection.on.rowSelectionChanged(b,function(c){b.persona=c.entity,a.get("concepto_nomina_por_persona","limit=0&query=Activo:TRUE,Persona:"+b.persona.Id+",Nomina.TipoNomina.Nombre:"+f.tipo+"&sortby=Id&order=desc").then(function(a){b.gridOptions_novedades.data=a.data})})},b.gridOptions_conceptos.onRegisterApi=function(a){f.gridApi=a,a.selection.on.rowSelectionChanged(b,function(a){b.concepto=a.entity,console.log(b.concepto.TipoConcepto.Nombre)})},b.gridOptions_personas.multiSelect=!1,b.gridOptions_novedades.multiSelect=!1,b.gridOptions_conceptos.multiSelect=!1,a.post("funcionario_proveedor",i).then(function(a){b.gridOptions_personas.data=a.data}),a.get("concepto_nomina","limit=0&sortby=Id&order=desc").then(function(a){b.gridOptions_conceptos.data=a.data}),f.listar_conceptos=function(){},b.loadrow=function(a,c){switch(f.operacion=c,c){case"edit":b.llenar_modal(a),$("#modal_edicion_novedad").modal("show");break;case"delete":b.inactivar_novedad(a)}},f.Registrar=function(){var d=parseFloat(f.ValorNovedad),g=parseInt(f.NumCuotas);"porcentaje"===b.concepto.TipoConcepto.Nombre&&(g=999),"seguridad_social"===b.concepto.TipoConcepto.Nombre&&(d=0,g=0);var h={Id:parseInt(b.concepto.Id)},i=parseInt(b.persona.Id),j={Id:parseInt(f.Nomina.Id)},k={Concepto:h,Activo:Boolean("true"),FechaDesde:f.FechaInicio,FechaHasta:f.FechaFin,FechaRegistro:f.CurrentDate,NumCuotas:g,Persona:i,Nomina:j,ValorNovedad:d};a.post("concepto_nomina_por_persona",k).then(function(a){console.log("post concepto"),"object"==typeof a.data&&swal({html:c.instant("NOVEDAD_REG_CORRECTO"),type:"success",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){$("#modal_adicion_novedad").modal("hide"),e.location.reload()}),"string"==typeof a.data&&(swal({html:c.instant("NOVEDAD_REG_ERROR"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){$("#modal_adicion_novedad").modal("hide"),e.location.reload()}),console.log("error: "+a.data))})},b.inactivar_novedad=function(b){swal({html:c.instant("CONFIRMACION_INACTIVIDAD_NOV")+b.entity.Concepto.AliasConcepto+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#449D44",cancelButtonColor:"#C9302C",confirmButtonText:c.instant("CONFIRMAR"),cancelButtonText:c.instant("CANCELAR")}).then(function(){var d={Id:parseInt(b.entity.Nomina.Id)},f={Id:parseInt(b.entity.Concepto.Id)},g={Id:b.entity.Id,Concepto:f,Activo:Boolean(!1),FechaDesde:b.entity.FechaDesde,FechaHasta:b.entity.FechaHasta,FechaRegistro:b.entity.FechaRegistro,NumCuotas:b.entity.NumCuotas,Persona:b.entity.Persona,Nomina:d,ValorNovedad:b.entity.ValorNovedad};a.put("concepto_nomina_por_persona",g.Id,g).then(function(a){"OK"==a.data?swal({html:c.instant("INACTIVIDAD_CORRECTA_NOV"),type:"success",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){e.location.reload()}):swal({html:c.instant("INACTIVIDAD_INCORRECTA_NOV"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){e.location.reload()})})},function(a){"cancel"===a&&e.location.reload()})},b.llenar_modal=function(a){f.id_edicion=a.entity.Id,f.id_concepto_edicion=a.entity.Concepto.Id,f.concepto_nombre_edicion=a.entity.Concepto.AliasConcepto,f.tipo_concepto_edicion=a.entity.Concepto.TipoConcepto.Nombre,f.activo_edicion=a.entity.Activo,f.num_cuotas_edicion=a.entity.NumCuotas,f.id_nomina_edicion=a.entity.Nomina.Id,f.valor_novedad_edicion=a.entity.ValorNovedad,f.persona_edicion=a.entity.Persona},f.Editar=function(){swal({html:c.instant("CONFIRMACION_EDICION_NOV")+"<br><b>"+f.concepto_nombre_edicion+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#449D44",cancelButtonColor:"#C9302C",confirmButtonText:c.instant("CONFIRMAR"),cancelButtonText:c.instant("CANCELAR")}).then(function(){var b={Id:parseInt(f.id_nomina_edicion)},d={Id:parseInt(f.id_concepto_edicion)},g={Id:parseInt(f.id_edicion),Concepto:d,Activo:Boolean("true"),FechaDesde:f.FechaInicio,FechaHasta:f.FechaFin,FechaRegistro:f.CurrentDate,NumCuotas:parseInt(f.num_cuotas_edicion),Persona:parseInt(f.persona_edicion),Nomina:b,ValorNovedad:parseFloat(f.valor_novedad_edicion)};a.put("concepto_nomina_por_persona",g.Id,g).then(function(a){"OK"==a.data?swal({html:c.instant("EDICION_CORRECTA_NOV"),type:"success",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){e.location.reload()}):swal({html:c.instant("EDICION_INCORRECTA_NOV"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){e.location.reload()})})},function(a){"cancel"===a&&e.location.reload()})}}]),angular.module("titanClienteV2App").controller("ConceptoConceptosConsultaCtrl",["titanRequest","$scope","$translate","$route","$window",function(a,b,c,d,e){var f=this;f.id_edicion,f.alias_concepto_edicion,f.nombre_concepto_edicion,b.botones=[{clase_color:"editar",clase_css:"fa fa-pencil fa-lg  faa-shake animated-hover",titulo:c.instant("BTN.EDITAR"),operacion:"edit",estado:!0},{clase_color:"borrar",clase_css:"fa fa-trash fa-lg  faa-shake animated-hover",titulo:c.instant("BTN.BORRAR"),operacion:"delete",estado:!0}],f.gridOptions_conceptos={enableFiltering:!0,enableSorting:!0,enableRowSelection:!1,enableRowHeaderSelection:!1,columnDefs:[{field:"Id",visible:!1},{field:"NombreConcepto",visible:!1},{field:"NaturalezaConcepto.Id",visible:!1},{field:"TipoConcepto.Id",visible:!1},{field:"AliasConcepto",displayName:c.instant("CONCEPTO_NOMBRE")},{field:"NaturalezaConcepto.Nombre",displayName:c.instant("NATURALEZA_NOMBRE")},{field:"TipoConcepto.Nombre",displayName:c.instant("TIPO_NOMBRE")},{field:"Acciones",displayName:c.instant("ACCIONES"),width:"8%",cellTemplate:'<center><btn-registro funcion="grid.appScope.loadrow(fila,operacion)" grupobotones="grid.appScope.botones" fila="row"></btn-registro><center>'}]},f.gridOptions_conceptos.onRegisterApi=function(a){f.gridApi=a},f.gridOptions_conceptos.multiSelect=!1,a.get("concepto_nomina","limit=0&sortby=Id&order=desc").then(function(a){f.gridOptions_conceptos.data=a.data}),a.get("naturaleza_concepto_nomina","limit=0&sortby=Id&order=desc").then(function(a){f.NaturalezaConcepto=a.data}),a.get("tipo_concepto_nomina","limit=0&sortby=Id&order=desc").then(function(a){f.TipoConcepto=a.data}),b.loadrow=function(a,c){switch(f.operacion=c,c){case"edit":b.llenar_modal(a),$("#modal_edicion").modal("show");break;case"delete":b.borrar(a)}},b.llenar_modal=function(a){f.id_edicion=a.entity.Id,f.alias_concepto_edicion=a.entity.AliasConcepto,f.nombre_concepto_edicion=a.entity.NombreConcepto},f.actualizar=function(){var b=JSON.parse(f.selectNaturalezaConcepto),d=JSON.parse(f.selectTipoConcepto);swal({html:c.instant("CONFIRMACION_EDICION")+"<br><b>"+c.instant("CONCEPTO_NOMBRE")+":</b> "+f.alias_concepto_edicion+"<br><b>"+c.instant("NATURALEZA_NOMBRE")+":</b> "+b.Descripcion+"<br><b>"+c.instant("TIPO")+":</b> "+d.Descripcion+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#449D44",cancelButtonColor:"#C9302C",confirmButtonText:c.instant("CONFIRMAR"),cancelButtonText:c.instant("CANCELAR")}).then(function(){var g={Id:b.Id},h={Id:d.Id},i={Id:f.id_edicion,NombreConcepto:f.nombre_concepto_edicion,NaturalezaConcepto:g,AliasConcepto:f.alias_concepto_edicion,TipoConcepto:h};a.put("concepto_nomina",i.Id,i).then(function(a){console.log(a.data),"OK"==a.data?swal({html:c.instant("ACTUALIZACION_CORRECTA"),type:"success",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){$("#modal_edicion").modal("hide"),e.location.reload()}):swal({html:c.instant("ACTUALIZACION_INCORRECTA"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){$("#modal_edicion").modal("hide"),e.location.reload()})})},function(a){"cancel"===a&&($("#modal_edicion").modal("hide"),e.location.reload())})},b.borrar=function(b){swal({html:c.instant("CONFIRMACION_ELIMINACION")+"<b>"+b.entity.AliasConcepto+"</b>?",type:"warning",showCancelButton:!0,confirmButtonColor:"#449D44",cancelButtonColor:"#C9302C",confirmButtonText:c.instant("CONFIRMAR"),cancelButtonText:c.instant("CANCELAR")}).then(function(){a["delete"]("concepto_nomina",b.entity.Id).then(function(a){console.log(a.data),"OK"==a.data?swal({html:c.instant("ELIMINACION_CORRECTA"),type:"success",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){e.location.reload()}):swal({html:c.instant("ELIMINACION_INCORRECTA"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){e.location.reload()})})},function(a){"cancel"===a&&e.location.reload()})},f.anadir=function(){var b=JSON.parse(f.selectNaturalezaConcepto),d=JSON.parse(f.selectTipoConcepto);swal({html:c.instant("CONFIRMACION_ADICION")+"<br><b>"+c.instant("CONCEPTO_NOMBRE")+":</b> "+f.alias_concepto_adicion+"<br><b>"+c.instant("NATURALEZA_NOMBRE")+":</b> "+b.Descripcion+"<br><b>"+c.instant("TIPO")+":</b> "+d.Descripcion+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#449D44",cancelButtonColor:"#C9302C",confirmButtonText:c.instant("CONFIRMAR"),cancelButtonText:c.instant("CANCELAR")}).then(function(){var b=JSON.parse(f.selectNaturalezaConcepto),d=JSON.parse(f.selectTipoConcepto),g={Id:b.Id},h={Id:d.Id},i={NombreConcepto:"nombrereglaxxx",NaturalezaConcepto:g,AliasConcepto:f.alias_concepto_adicion,TipoConcepto:h};a.post("concepto_nomina",i).then(function(b){if("object"==typeof b.data){var d={Id:b.data.Id,NombreConcepto:"nombreregla"+b.data.Id.toString(),NaturalezaConcepto:b.data.NaturalezaConcepto,AliasConcepto:b.data.AliasConcepto,TipoConcepto:b.data.TipoConcepto};a.put("concepto_nomina",d.Id,d).then(function(a){"OK"==a.data?swal({html:c.instant("ADICION_CORRECTA"),type:"success",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){e.location.reload()}):swal({html:c.instant("ADICION_INCORRECTA"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){e.location.reload()})})}"string"==typeof b.data&&swal({html:c.instant("ADICION_INCORRECTA"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){e.location.reload()})})},function(a){"cancel"===a&&e.location.reload()})}}]),angular.module("titanClienteV2App").controller("LiquidacionCtrl",["$scope","titanMidRequest","titanRequest","preliquidacion","$translate",function(a,b,c,d,e){var f=this;f.resumen_conceptos,f.seleccion_sueldoNeto=0,f.preliquidacion=d,f.gridOptions={enableFiltering:!1,enableSorting:!0,enableRowSelection:!0,enableSelectAll:!0,columnDefs:[{field:"IdPersona",visible:!1},{field:"NumeroContrato",displayName:e.instant("NUM_CONTRATO"),cellTemplate:'<button class="btn btn-link btn-block" ng-click="grid.appScope.liquidacion.ver_seleccion_persona(row)" >{{row.entity.NumeroContrato}}</button>'},{field:"NomProveedor",displayName:e.instant("NOMBRE_PERSONA")},{field:"NumDocumento",displayName:e.instant("DOCUMENTO")}],onRegisterApi:function(b){f.gridApi=b,f.gridApi.selection.on.rowSelectionChanged(a,function(b){a.cdp=a.gridApi.selection.getSelectedRows(),alert("ece")})}},f.CalcularTotalesNomina=function(){for(var a=f.gridApi.selection.getSelectedRows(),b=0,c={},d=0;d<a.length;d++)for(var e=0;e<a[d].Conceptos.length;e++)"devengo"===a[d].Conceptos[e].Naturaleza?(b+=parseInt(a[d].Conceptos[e].Valor),null!=c[a[d].Conceptos[e].Nombre]?c[a[d].Conceptos[e].Nombre]+=parseInt(a[d].Conceptos[e].Valor):c[a[d].Conceptos[e].Nombre]=parseInt(a[d].Conceptos[e].Valor)):"descuento"===a[d].Conceptos[e].Naturaleza&&(b-=parseInt(a[d].Conceptos[e].Valor),null!=c[a[d].Conceptos[e].Nombre]?c[a[d].Conceptos[e].Nombre]+=parseInt(a[d].Conceptos[e].Valor):c[a[d].Conceptos[e].Nombre]=parseInt(a[d].Conceptos[e].Valor));f.total_sueldos_neto=b,f.resumen_conceptos=c},c.post("liquidacion/resumen",d).then(function(a){var b={};console.log(a.data[0].Conceptos);for(var c=0,d=0;d<a.data.length;d++)for(var e=0;e<a.data[d].Conceptos.length;e++)"devengo"===a.data[d].Conceptos[e].Naturaleza?(c+=parseInt(a.data[d].Conceptos[e].Valor),null!=b[a.data[d].Conceptos[e].Nombre]?b[a.data[d].Conceptos[e].Nombre]+=parseInt(a.data[d].Conceptos[e].Valor):b[a.data[d].Conceptos[e].Nombre]=parseInt(a.data[d].Conceptos[e].Valor)):"descuento"===a.data[d].Conceptos[e].Naturaleza&&(c-=parseInt(a.data[d].Conceptos[e].Valor),null!=b[a.data[d].Conceptos[e].Nombre]?b[a.data[d].Conceptos[e].Nombre]+=parseInt(a.data[d].Conceptos[e].Valor):b[a.data[d].Conceptos[e].Nombre]=parseInt(a.data[d].Conceptos[e].Valor));f.gridOptions.data=a.data,f.total_sueldos_neto=c,f.resumen_conceptos=b}),f.ver_seleccion_persona=function(a){f.seleccion_conceptos=null,f.seleccion_conceptos=a.entity.Conceptos;for(var b=0,c=0,d=0,e=0;e<f.seleccion_conceptos.length;e++)"devengo"===f.seleccion_conceptos[e].Naturaleza?(b+=parseInt(f.seleccion_conceptos[e].Valor),d+=parseInt(f.seleccion_conceptos[e].Valor)):"descuento"===f.seleccion_conceptos[e].Naturaleza&&(b-=parseInt(f.seleccion_conceptos[e].Valor),c+=parseInt(f.seleccion_conceptos[e].Valor));f.seleccion_sueldoNeto=b,f.seleccion_tot_descuentos=c,f.seleccion_tot_devengo=d},f.liquidar=function(){var a=f.gridApi.selection.getSelectedRows(),c=[];b.post("liquidacion",d).then(function(e){for(var f=0;f<a.length;f++)c[f]=a[f].IdPersona;var g=a.length;c[g]=d.Id,console.log(a),console.log(c),b.post("detalle_liquidacion",c).then(function(a){})})}}]),angular.module("titanClienteV2App").factory("personaNatural",function(){return{}}).controller("BeneficiariosCtrl",["titanRequest","$window","$translate",function(a,b,c){var d=this;d.gridOptions={enableFiltering:!1,enableSorting:!0,treeRowHeaderAlwaysVisible:!1,showTreeExpandNoChildren:!1,columnDefs:[{field:"Id",visible:!1},{field:"Tipo_Documento"},{field:"num_Documento"},{field:"digito_verificacion"},{field:"primer_apellido"},{field:"segundo_apellido"},{field:"primer_nombre"},{field:"cargo"},{field:"pais_nacimiento"},{field:"perfil"},{field:"num_Documento"},{fielc:"fechaNac"}]},d.limpiar=function(){b.location.reload()},a.get("banco","limit=0").then(function(a){d.banco=a.data}),a.get("categoria_beneficiario","limit=0").then(function(a){d.categoria=a.data}),d.registrar_perNatural=function(){var e={Id:parseInt(d.selectBanco)},f={Id:parseInt(d.selectCategoria)},g={TipoDocumento:parseInt(d.tipoDocumento),Id:parseInt(d.numDocumento),DigitoVerificacion:0,PrimerApellido:d.primerApellido,SegundoApellido:d.segundoApellido,PrimerNombre:d.primerNombre,SegundoNombre:d.segundoNombre,cargo:"BE",IdPaisNacimiento:112,perfil:20,genero:d.genero,Estado:d.estado};a.post("informacion_persona_natural",g).then(function(a){console.log(a.data),"object"==typeof a.data&&alert("Dato registrado"+a.data.Id),"string"==typeof a.data&&alert("error: "+a.data)}),a.get("informacion_proveedor","limit=1&sortby=Id&order=desc").then(function(g){d.idproveedor=g.data;for(var h,i=d.idproveedor,j=i.length-1;j<=i.length-1;j++)h=i[j].Id,alert(h);var k={Id:96},l={Id:1},m={Id:h+1,Tipopersona:"NATURAL",NumDocumento:parseFloat(d.numDocumento),IdCiudadContacto:k,Direccion:"SIN INFORMACION",Correo:d.correo,TelAsesor:d.telefono,Anexorut:"PRUEBA",Estado:l,TipoCuentaBancaria:d.tipoCuenta,NumCuentaBancaria:d.numeroCuenta,IdEntidadBancaria:e.Id,FechaRegistro:"0/0/0",FechaUltimaModificacion:"0/0/0",NomProveedor:d.primerNombre+" "+d.segundoNombre+" "+d.primerApellido+" "+d.segundoApellido};console.log(m),a.post("informacion_proveedor",m).then(function(e){if(console.log("Entro a proveedor"),"object"==typeof e.data){var g=parseInt(e.data.Id);console.log("idbeneficiario"+g),alert("Dato registrado"+e.data.Id),a.get("informacion_proveedor","limit=0").then(function(e){d.proveedor=e.data;d.proveedor;alert("informacion proveedor"),a.get("informacion_pensionado","limit=0").then(function(e){d.pension=e.data;var h=d.pension;alert(h);a.get("beneficiarios","limit=0&sortby=Id&order=desc").then(function(e){d.idbe=e.data;var h=d.idbe;console.log(h.length+"longitud beneficiarios");for(var i,j=h.length-1;j<h.length;j++)console.log(h[j]+"id con .length"),i=h[j].Id,alert(i+"idbeneficiario"+h[j].Id);var k="query=NumDocumento:"+parseInt(d.pensionado);a.get("informacion_proveedor",k).then(function(e){var h=e.data[0].Id,i={InformacionPensionado:h,InformacionProveedor:g,FechaNacBeneficiario:d.fechaNac,SubFamiliar:d.subsidioF,CategoriaBeneficiario:f.Id,SubEstudios:d.subsidioE,Estado:d.estado};console.log("beneficiario"),console.log(i),a.post("beneficiarios",i).then(function(a){"object"==typeof a.data&&swal({html:c.instant("ALERTA_BEN_CORRECTO"),type:"success",showCancelButton:!1,confirmButtonColor:"#449D44",
confirmButtonText:c.instant("VOLVER")}).then(function(){b.location.href="#/pensiones/beneficiarios"}),"string"==typeof a.data&&(swal({html:c.instant("ALERTA_BEN_INCORRECTO"),type:"success",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:c.instant("VOLVER")}).then(function(){b.location.href="#/pensiones/beneficiarios"}),console.log("error: "+a.data))})})})})})}"string"==typeof e.data&&alert("error: "+e.data)})})}}]),angular.module("titanClienteV2App").controller("SustitutoCtrl",["titanRequest","$window",function(a,b){var c=this;c.gridOptions={enableFiltering:!1,enableSorting:!0,treeRowHeaderAlwaysVisible:!1,showTreeExpandNoChildren:!1,columnDefs:[{field:"Id",visible:!1},{field:"beneficiario"},{field:"porcentaje"},{field:"estado"}]},a.get("banco","limit=0").then(function(a){c.banco=a.data}),c.limpiar=function(){b.location.reload()},c.habilitar_sustituto=function(){var d;if(null!=c.numDocumento){var e={Id:parseInt(c.selectBanco)},f={TipoDocumento:parseInt(c.tipoDocumento),Id:parseInt(c.numDocumento),DigitoVerificacion:0,PrimerApellido:c.primerApellidoTutor,SegundoApellido:c.segundoApellidoTutor,PrimerNombre:c.primerNombreTutor,SegundoNombre:c.segundoNombreTutor,cargo:"TUTORBE",IdPaisNacimiento:112,perfil:20,genero:c.genero};a.post("informacion_persona_natural",f).then(function(a){console.log(a.data),"object"==typeof a.data&&alert("Dato registrado tutor"+a.data.Id),"string"==typeof a.data&&alert("error: "+a.data)}),a.get("informacion_proveedor","limit=1&sortby=Id&order=desc").then(function(b){c.idproveedor=b.data;for(var f,g=c.idproveedor,h=g.length-1;h<=g.length-1;h++)f=g[h].Id,alert(f);var i={Id:f+1,Tipopersona:"NATURAL",NumDocumento:parseFloat(c.numDocumento),IdCiudadContacto:96,Direccion:"SIN INFORMACION",Correo:c.correo,TelAsesor:c.telefono,Anexorut:"PRUEBA",Estado:1,TipoCuentaBancaria:c.tipoCuenta,NumCuentaBancaria:c.numeroCuenta,IdEntidadBancaria:e.Id,FechaRegistro:"0/0/0",FechaUltimaModificacion:"0/0/0",NomProveedor:c.primerNombre+" "+c.segundoNombre+" "+c.primerApellido+" "+c.segundoApellido};console.log(i),a.post("informacion_proveedor",i).then(function(a){console.log("Entro a proveedor tutor"),"object"==typeof a.data&&(console.log("Entro a proveedor tutor1"),d=parseInt(a.data.Id),alert(d+"idtutor"),console.log(d+"idtutor")),"string"==typeof a.data&&alert("error: "+a.data)})})}else swal({html:$translate.instant("ALERTA_SUS_INCOMPLETO"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:$translate.instant("VOLVER")}).then(function(){b.location.href="#/pensiones/sustituto"});if(null!=c.selectPensionado&&null!=c.selectBeneficiario){var g;a.get("informacion_proveedor","limit=5000").then(function(e){c.proveedor=e.data;var f=c.proveedor;a.get("informacion_pensionado","limit=750").then(function(e){c.pension=e.data;for(var h,i,j=c.pension,k=0;k<f.length;k++){if(c.selectPensionado==f[k].NumDocumento){console.log("pensionado id "+f[k].Id+f[k].NumDocumento);for(var l=0;l<j.length;l++)if(f[k].Id==j[l].InformacionProveedor){h="S",g=j[l].InformacionProveedor,alert("pensionados"+h);break}}if(c.selectBeneficiario==f[k].NumDocumento){alert("Encuentra beneficiarios1"),console.log("ben id "+f[k].Id+f[k].NumDocumento);var m=f[k].Id;a.get("beneficiarios","limit=5000").then(function(e){c.beneficiario=e.data;var f,g=c.beneficiario;alert("Entra a benefifciarios");for(var j=0;j<g.length;j++)if(console.log("idbeneficiario"+m+" "+g[j].InformacionProveedor),m==g[j].InformacionProveedor){alert("Encuentra beneficiarios2"),i="S",f=parseInt(g[j].Id),alert("encontrado Ben"+i);break}"S"==h&&"S"==i?a.get("sustituto","limit=1&sortby=Id&order=desc").then(function(e){c.idsust=e.data;for(var g,h=c.idsust,i=h.length-1;i<h.length;i++)g=h[i].Id,alert(g+"idsust"+h[i].Id);alert("idsustituto"+f),alert("idtutor"+d),console.log("idtutor"+d+"es sustit");var j={Id:g+1,Beneficiario:f,Porcentaje:parseFloat(c.selectPorcentaje),Estado:c.estado,Tutor:d};a.post("sustituto",j).then(function(a){"object"==typeof a.data&&swal({html:$translate.instant("ALERTA_REG_SUS_CORRECTO"),type:"success",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:$translate.instant("VOLVER")}).then(function(){b.location.href="#/pensiones/sustituto"}),"string"==typeof a.data&&(swal({html:$translate.instant("ALERTA_REG_SUS_INCORRECTO"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:$translate.instant("VOLVER")}).then(function(){b.location.href="#/pensiones/sustituto"}),console.log("error: "+a.data))})}):alert("Una de las personas no se encuentra en la Base de Datos"),console.log(h+" "+i)})}}})})}else swal({html:$translate.instant("ALERTA_REG_SUS_INCORRECTO"),type:"error",showCancelButton:!1,confirmButtonColor:"#449D44",confirmButtonText:$translate.instant("VOLVER")}).then(function(){b.location.href="#/pensiones/sustituto"})}}]),angular.module("titanClienteV2App").controller("CrearInformeCtrl",["oikosRequest","$http","uiGridConstants",function(a,b,c){var d='<div ng-if="!row.entity.editable">{{COL_FIELD}}</div><div ng-if="row.entity.editable"><input ng-model="MODEL_COL_FIELD"</div>',e=this;e.obtener_informacion_informe=function(){b.get("http://jbpm.udistritaloas.edu.co:8280/services/contratoSuscritoProxyService/contratos_persona/"+e.Documento,{headers:{Accept:"application/json"}}).then(function(a){e.respuesta_contratos_persona=a.data,e.informe=e.respuesta_contratos_persona.contratos_personas.contrato_persona[0],console.log(e.informe),b.get("http://jbpm.udistritaloas.edu.co:8280/services/contratoSuscritoProxyService/informacion_contrato_contratista/"+e.cumplido.numero_contrato+"/"+e.cumplido.vigencia,{headers:{Accept:"application/json"}}).then(function(a){e.respuesta_cumplido_informacion=a.data,e.cumplido_informacion=e.respuesta_cumplido_informacion.informacion_contratista,b.get("http://jbpm.udistritaloas.edu.co:8280/services/contratoSuscritoProxyService/contrato/"+e.cumplido.numero_contrato+"/"+e.cumplido.vigencia,{headers:{Accept:"application/json"}}).then(function(a){e.respuesta_cumplido_informacion=a.data,e.cumplido_informacion=e.respuesta_cumplido_informacion.informacion_contratista,console.log(e.cumplido_informacion)}),console.log(e.cumplido_informacion)})})},a.get("dependencia",$.param({limit:-1})).then(function(a){e.dependencias=a.data,console.log(e.dependencias)}),e.gridOptions1={enableSorting:!0,enableFiltering:!0,resizable:!0,columnDefs:[{field:"Nombre",cellTemplate:d,displayName:"Actividades realizadas",sort:{direction:c.ASC,priority:1}},{field:"Metas",cellTemplate:d,displayName:"Metas"},{field:"Indicador",cellTemplate:d,displayName:"Indicador de cumplimiento"},{field:"Nivel",cellTemplate:d,displayName:"Nivel de avance"},{field:"Observaciones",cellTemplate:d,displayName:"Observaciones"},{field:"Acciones",cellTemplate:'<button title="Editar" type="button" class="btn btn-success btn-circle" ng-click="grid.appScope.consultarDependencia.abrir_modal_editar(row)" data-toggle="modal" data-target="#editarDependencia"><i class="glyphicon glyphicon-pencil"></i></button>&nbsp;<button title="Eliminar registro" type="button" class="btn btn-primary btn-circle"ng-click="grid.appScope.consultarDependencia.vincular_espacios(row)" data-toggle="modal" data-target="#vincularEspacios"><i class="glyphicon glyphicon-eye-open"></i></button>'}]},e.addData=function(){var a=e.gridOptions1.data.length+1;e.gridOptions1.data.push({firstName:"New "+a,lastName:"Person "+a,company:"abc",employed:!0,gender:"male"})}}]),angular.module("titanClienteV2App").controller("CrearCumplidoCtrl",["oikosRequest","coreRequest","contratoRequest","$http",function(a,b,c,d){var e=this;e.cumplido={},e.obtener_informacion_cumplido=function(){d.get("http://jbpm.udistritaloas.edu.co:8280/services/contratoSuscritoProxyService/contratos_persona/"+e.Documento,{headers:{Accept:"application/json"}}).then(function(a){e.respuesta_contratos_persona=a.data,e.cumplido=e.respuesta_contratos_persona.contratos_personas.contrato_persona[0],console.log(e.cumplido),d.get("http://jbpm.udistritaloas.edu.co:8280/services/contratoSuscritoProxyService/informacion_contrato_contratista/"+e.cumplido.numero_contrato+"/"+e.cumplido.vigencia,{headers:{Accept:"application/json"}}).then(function(a){e.respuesta_cumplido_informacion=a.data,e.cumplido_informacion=e.respuesta_cumplido_informacion.informacion_contratista,console.log(e.cumplido_informacion)})})},e.obtener_pago=function(){console.log(e.cumplido_informacion.valor_contrato),e.valor_contrato_int=parseInt(e.cumplido_informacion.valor_contrato),e.valor_tiempo_dias_int=parseInt(e.cumplido_informacion.tiempo.valor),e.valor_dia_contrato=e.valor_contrato_int/e.valor_tiempo_dias_int,e.dias_laborados=e.cumplido_informacion.dia_final-(e.cumplido_informacion.dia_inicial-1),e.cumplido_informacion.valor_cobro=e.valor_dia_contrato*e.dias_laborados}}]),angular.module("titanClienteV2App").controller("AprobacionPagoCtrl",["oikosRequest","$http","uiGridConstants","contratoRequest",function(a,b,c,d){var e='<div ng-if="!row.entity.editable">{{COL_FIELD}}</div><div ng-if="row.entity.editable"><input ng-model="MODEL_COL_FIELD"</div>',f=this;f.contratistas=[],f.gridOptions1={enableSorting:!0,enableFiltering:!0,resizable:!0,rowHeight:40,columnDefs:[{field:"nombre",cellTemplate:e,displayName:"Nombre contratista",sort:{direction:c.ASC,priority:1}},{field:"num_documento",cellTemplate:e,displayName:"Documento",sort:{direction:c.ASC,priority:1},width:"15%"},{field:"dependencia",cellTemplate:e,displayName:"Dependencia",sort:{direction:c.ASC,priority:1}},{field:"cargo_supervision",cellTemplate:e,displayName:"Cargo Supervisión",sort:{direction:c.ASC,priority:1}},{field:"Acciones",cellTemplate:' <button title="Aprobar pago" type="button" class="btn btn-success btn-circle" ng-if="!row.entity.validacion" ng-click="grid.appScope.aprobacionPago.validarCumplido(row.entity)" data-toggle="modal" data-target="#editarDependencia"><i class="glyphicon glyphicon-ok"></i></button>&nbsp;<button title="Rechazar pago" type="button" class="btn btn-danger btn-circle"ng-if="row.entity.validacion" ng-click="grid.appScope.aprobacionPago.invalidarCumplido(row.entity)" data-toggle="modal" data-target="#vincularEspacios"><i class="glyphicon glyphicon-remove"></i></button>',width:"10%"}]},f.gridOptions1.onRegisterApi=function(a){f.gridApi=a},f.procesar_contratistas=function(a){for(var b=0;b<a.length;b++)f.contratistas[b]={num_documento:a[b].contratista.documento,nombre:a[b].contratista.nombre,dependencia:a[b].supervisor.dependencia,cargo_supervision:a[b].supervisor.cargo,validacion:!1}},f.obtener_informacion_supervisor=function(){f.gridOptions1.data=[],f.contratistas=[];try{d.get("supervisor_contratistas",f.Documento).then(function(a){f.respuesta_supervisor_contratistas=a.data,console.log(a.status),f.procesar_contratistas(f.respuesta_supervisor_contratistas.supervisores.supervisor_contratista),console.log(f.contratistas),f.supervisor=f.respuesta_supervisor_contratistas.supervisores.supervisor_contratista[0].supervisor,f.gridOptions1.data=f.contratistas})}catch(a){}f.gridApi.core.refresh()},f.validarCumplido=function(a){swal({title:"¿Está seguro(a)?",text:"Podrá revertir la validación",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Validar"}).then(function(){a.validacion=!0,f.gridApi.core.refresh()})},f.invalidarCumplido=function(a){swal({title:"¿Está seguro(a) de invalidar el cumplido?",text:"Podrá revertir la invalidación",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Invalidar"}).then(function(){a.validacion=!1,f.gridApi.core.refresh()})}}]),angular.module("titanClienteV2App").factory("oikosRequest",["$http",function(a){var b="http://10.20.0.254/oikos_api/v1/";return{get:function(c,d){return a.get(b+c+"/?"+d)},post:function(c,d){return a.post(b+c,d)},put:function(c,d,e){return a.put(b+c+"/"+d,e)},"delete":function(c,d){return a["delete"](b+c+"/"+d)}}}]),angular.module("titanClienteV2App").factory("coreRequest",["$http",function(a){var b="http://127.0.0.1:8080/v1/";return{get:function(c,d){return a.get(b+c+"/?"+d)},post:function(c,d){return a.post(b+c,d)},put:function(c,d,e){return a.put(b+c+"/"+d,e)},"delete":function(c,d){return a["delete"](b+c+"/"+d)}}}]),angular.module("titanClienteV2App").run(["$templateCache",function(a){a.put("views/about.html",'<br> <div class="panel panel-default"> <div class="panel-heading"> about. </div> <div class="panel-body"> <p> Ahora puede empezar a construir la vista de about. </p> </div> <div class="panel-footer"> Panel Footer </div> </div>'),a.put("views/conceptos/modulo_conceptos.html",'<div class="col-md-8 panel panel-default"> <div class="panel-heading">{{\'TITULO_GENERAL\' | translate}}</div> <div class="panel-body"> <button class="btn btn-success" data-toggle="modal" data-target="#modal_adicion">{{\'ANADIR_CONCEPTO\'| translate}}</button> <br> <div ui-grid="conceptosConsulta.gridOptions_conceptos" ui-grid-selection ui-grid-auto-resize class="myGrid" style="width:95%"></div></div> </div> <div id="modal_edicion" class="modal fade" role="dialog"> <div class="modal-content col-md-10 col-md-offset-1" style="margin-top: 5%"> <div class="modal-header"> <button type="button" class="btn btn-outline btn-danger btn-xs pull-right" data-dismiss="modal">&times</button><br> </div> <div class="modal-body"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">{{\'TITULO_EDICION\' | translate}}</h3> </div> <div class="panel-body"> <form name="formplan" ng-submit="formplan.$valid"> <fieldset class="form-group"> <label for="nombreconceptoedicion">{{\'CONCEPTO_NOMBRE\' | translate}}:</label> <input type="text" class="form-control" id="nombre_concepto_edicion" placeholder="Nombre del concepto" ng-model="conceptosConsulta.alias_concepto_edicion" required> </fieldset> <fieldset class="form-group"> <label for="naturalezaconceptoedicion">{{\'NATURALEZA_NOMBRE\' | translate}}:</label> <select class="form-control" id="naturaleza_concepto_edicion" ng-model="conceptosConsulta.selectNaturalezaConcepto" required> <option selected disabled>{{\'SELECCIONE\' | translate}}</option> <option ng-repeat="tnaturaleza in conceptosConsulta.NaturalezaConcepto" value="{{tnaturaleza}}">{{tnaturaleza.Descripcion}}</option> </select> </fieldset> <fieldset class="form-group"> <label for="tipoedicion">{{\'TIPO_NOMBRE\' | translate}}:</label> <select class="form-control" id="tipo_concepto_edicion" ng-model="conceptosConsulta.selectTipoConcepto" required> <option selected disabled>{{\'SELECCIONE\' | translate}}</option> <option ng-repeat="ttipo in conceptosConsulta.TipoConcepto" value="{{ttipo}}">{{ttipo.Descripcion}}</option> </select> </fieldset> <center><button ng-click="conceptosConsulta.actualizar()" class="btn btn-outline btn-primary">{{\'CONFIRMAR\' | translate}}</button></center> </form> </div> </div> </div> </div> </div> <div id="modal_adicion" class="modal fade" role="dialog"> <div class="modal-content col-md-10 col-md-offset-1" style="margin-top: 5%"> <div class="modal-header"> <button type="button" class="btn btn-outline btn-danger btn-xs pull-right" data-dismiss="modal">&times</button><br> </div> <div class="modal-body"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">{{\'TITULO_ADICION\' | translate}}</h3> </div> <div class="panel-body"> <form name="formplan" ng-submit="formplan.$valid"> <fieldset class="form-group"> <label for="nombreconceptoadicion">{{\'CONCEPTO_NOMBRE\' | translate}}:</label> <input type="text" class="form-control" id="nombre_concepto_adicion" placeholder="{{\'CONCEPTO_NOMBRE\' | translate}}" ng-model="conceptosConsulta.alias_concepto_adicion" required> </fieldset> <fieldset class="form-group"> <label for="naturalezaconceptoadicion">{{\'NATURALEZA_NOMBRE\' | translate}}:</label> <select class="form-control" id="naturaleza_concepto_adicion" ng-model="conceptosConsulta.selectNaturalezaConcepto" required> <option selected disabled>{{\'SELECCIONE\' | translate}}</option> <option ng-repeat="tnaturaleza in conceptosConsulta.NaturalezaConcepto" value="{{tnaturaleza}}">{{tnaturaleza.Descripcion}}</option> </select> </fieldset> <fieldset class="form-group"> <label for="tipoadicion">{{\'TIPO_NOMBRE\' | translate}}:</label> <select class="form-control" id="tipo_concepto_adicion" ng-model="conceptosConsulta.selectTipoConcepto" required> <option selected disabled>{{\'SELECCIONE\' | translate}}</option> <option ng-repeat="ttipo in conceptosConsulta.TipoConcepto" value="{{ttipo}}">{{ttipo.Descripcion}}</option> </select> </fieldset> <center><button ng-click="conceptosConsulta.anadir()" class="btn btn-outline btn-primary">{{\'CONFIRMAR\' | translate}}</button></center> </form> </div> </div> </div> </div> </div>'),a.put("views/directives/btn_registro.html",'<sencillo ng-if="angular.isUndefined(grupobotones)"> <a class="ver" ng-click="funcion({fila:fila,operacion:\'ver\'})"> <i class="fa fa-eye fa-lg faa-shake animated-hover" aria-hidden="true" data-toggle="tooltip" title="{{\'BTN.VER\' | translate }}"></i> </a> <a class="editar" ng-click="funcion({fila:fila,operacion:\'edit\'})"> <i data-toggle="tooltip" title="{{\'BTN.EDITAR\' | translate }}" class="fa fa-pencil fa-lg faa-shake animated-hover" aria-hidden="true"></i> </a> <a class="configuracion" ng-click="funcion({fila:fila,operacion:\'config\'})"> <i data-toggle="tooltip" title="{{\'BTN.CONFIGURAR\' | translate }}" class="fa fa-cog fa-lg faa-spin animated-hover" aria-hidden="true"></i> </a> <a class="borrar" ng-click="funcion({fila:fila,operacion:\'delete\'})"> <i data-toggle="tooltip" title="{{\'BTN.BORRAR\' | translate }}" class="fa fa-trash fa-lg faa-shake animated-hover" aria-hidden="true"></i> </a> <a class="ver" ng-click="funcion({fila:fila,operacion:\'validar\'})"> <i data-toggle="tooltip" title="{{BTN.VALIDAR | translate }}" class="fa fa-check fa-lg faa-shake animated-hover" aria-hidden="true"></i> </a> </sencillo> <sencillo ng-if="!angular.isUndefined(grupobotones)"> <a ng-repeat="btn in grupobotones" class="{{btn.clase_color}}" ng-click="funcion({fila:fila,operacion:btn.operacion})"> <i class="{{btn.clase_css}}" aria-hidden="true" data-toggle="tooltip" title="{{btn.titulo}}"></i> </a> </sencillo>'),a.put("views/footer.html",'<footer> <div class="container"> <div class="row"> <div class="col-md-4 col-sm-6 footerleft"> <div class="logofooter"> Universidad Distrital Francisco José de Caldas</div> <p> Institución de Educación Superior sujeta a inspección y vigilancia por el Ministerio de Educación Nacional Adscrita a la Alcaldía Mayor de Bogotá Distrito Capital </p> <p><i class="fa fa-map-pin"></i> Carrera 7 # 40B - 53 - Bogotá D.C. - Colombia</p> <p><i class="fa fa-phone"></i> Teléfono (Colombia) : +57 3 323 9300</p> <p><i class="fa fa-envelope"></i> E-mail : atencion@udistrital.edu.co</p> <p><i class="fa fa-handshake-o"></i> Lunes a Viernes de 8:00 a.m. a 5:00 p.m.</p> <div class="logofooter"> Redes Sociales</div> <div class="col-md-4"> <a href="https://es-la.facebook.com/UniversidadDistrital/" target="_blank"> <i class="fa fa-facebook-square fa-3x" aria-hidden="true"></i> </a> </div> <div class="col-md-4"> <a href="https://plus.google.com/106543869133961089207?hl=es" target="_blank"> <i class="fa fa-google-plus fa-3x" aria-hidden="true"></i></a> </div> <div class="col-md-4"> <a href="https://plus.google.com/106543869133961089207?hl=es" target="_blank"> <i class="fa fa-twitter fa-3x" aria-hidden="true"></i></a> </div> </div> <div class="col-md-4 col-sm-6 paddingtop-bottom"> <h6 class="heading7">ENLACES UNIVERSITARIOS</h6> <ul class="footer-ul"> <li ng-repeat="elemento in enlaces_universitarios"> <a href="{{elemento.link}}"> {{elemento.nombre}}</a> </li> </ul> </div> <div class="col-md-4 col-sm-6 paddingtop-bottom"> <h6 class="heading7">ENLACES DE INTERÉS</h6> <ul class="footer-ul"> <li ng-repeat="elemento in enlaces_universitarios"> <a href="{{elemento.link}}"> {{elemento.nombre}}</a> </li> </ul> </div> </div> </div> </footer> <div class="copyright"> <div class="container"> <div class="col-md-6"> <p>{{copyright}}</p> </div> <div class="col-md-6"> <ul class="bottom_ul"> <li ng-repeat="elemento in map"> <a href="{{elemento.link}}"> {{elemento.nombre}}</a> </li> </ul> </div> </div> </div>'),a.put("views/liquidacion/liquidacion_detalle.html",'<div class="row"> <div class="col-md-8"> <div class="panel-success class"> <div class="panel-heading"><h3><b>{{\'TITULO_DETALLE_LIQ\' | translate}} {{liquidacion.liquidacion.Nomina.TipoNomina.Nombre}}</b></h3></div> <div class="panel-body"> <table style="width:95%"> <tr> <td> <div ui-grid="liquidacion.gridOptions" ui-grid-selection class="myGrid"></div> </td> </tr> <tr> <button ng-click="liquidacion.CalcularTotalesNomina()" class="btn btn-success"> Calcular Selección</button> </tr> </table> <h2>{{\'RESUMEN_LIQ\'| translate}}</h2> <table class="table"> <tr> <th>{{\'CONCEPTO\' | translate}}</th><th>{{\'TOTAL\' | translate}}</th> </tr> <tr> <th>{{\'SUELDOS_NETOS\' | translate}} </th><td>{{liquidacion.total_sueldos_neto | currency}}</td> </tr> <tr ng-repeat="(key, value) in liquidacion.resumen_conceptos"> <th>{{key}}</th><td>{{value | currency}}</td> </tr> </table> </div> </div> </div> <div class="col-md-4"> <div class="panel-success class"> <div class="panel-heading">{{\'DETALLE_EMP\' | translate}}</div> <div class="panel-body" ng-show="liquidacion.seleccion_conceptos"> <table class="table table-scrollable"> <tr> <th>{{\'CONCEPTO\' | translate}}</th><th>{{\'VALOR\'|translate}}</th><th>{{\'NATURALEZA\'| translate}}</th><th>{{\'TIPO\'| translate}}</th> </tr> <tr ng-repeat="concepto in liquidacion.seleccion_conceptos" ng-show="concepto.Naturaleza === \'devengo\'" class="devengo"> <td>{{concepto.Nombre}}</td><td>{{concepto.Valor | currency}}</td><td>{{concepto.Naturaleza}}</td> </tr> <tr ng-repeat="concepto in liquidacion.seleccion_conceptos" ng-show="concepto.Naturaleza === \'descuento\'" class="descuento"> <td>{{concepto.Nombre}}</td><td>{{concepto.Valor | currency}}</td><td>{{concepto.Naturaleza}}</td> </tr> </table> <br> <table class="table"> <tr> <th>{{\'TOTAL_DEV\' | translate}}</th><td>{{liquidacion.seleccion_tot_devengo | currency}}</td> </tr> <tr> <th>{{\'TOTAL_DESC\'| translate}}</th><td>{{liquidacion.seleccion_tot_descuentos | currency}}</td> </tr> <tr> <th>{{\'TOTAL_PAGAR\' | translate}}</th><td>{{liquidacion.seleccion_sueldoNeto | currency}}</td> </tr> </table> </div> </div> </div> </div>'),a.put("views/main.html",'<br> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="page-header"> {{ \'TITULO\' | translate }} </h3> </div> <div class="panel-body"> <p> {{ \'MENSAJE_INICIAL\' | translate }} </p> </div> <div class="panel-footer"> Panel Footer </div> </div>'),a.put("views/menu.html",'<nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0"> <div class="navbar-header"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" ng-href="#/">Titán: sistema de gestión de nómina</a> </div> <div id="navbar" class="navbar-collapse collapse in"> <ul class="nav navbar-top-links navbar-right"> <li ng-repeat="nivel_1 in menu_service"> <a ng-if="nivel_1.Opciones === null" ng-href="{{\'#/\' + nivel_1.Url}}"> {{nivel_1.Nombre}} </a> </li> <li ng-repeat="nivel_1 in menu_service" class="dropdown"> <a ng-if="nivel_1.Opciones !== null" ng-href="{{actual}}" class="dropdown-toggle" data-toggle="dropdown"> {{nivel_1.Nombre}} <b class="caret"> </b> </a> <ul class="dropdown-menu"> <li ng-repeat="nivel_2 in nivel_1.Opciones"> <a ng-href="{{\'#/\' + nivel_2.Url}}" ng-if="nivel_2.Opciones === null"> {{nivel_2.Nombre}} </a> </li> <li class="dropdown dropdown-submenu" ng-repeat="nivel_2 in nivel_1.Opciones"> <a ng-href="{{actual}}" class="dropdown-toggle" data-toggle="dropdown" ng-if="nivel_2.Opciones !== null"> {{nivel_2.Nombre}} </a> <ul class="dropdown-menu"> <li ng-repeat="nivel_3 in nivel_2.Opciones"> <a ng-href="{{\'#/\' + nivel_3.Url}}" ng-if="nivel_3.Opciones === null"> {{nivel_3.Nombre}} </a> </li> <li class="dropdown dropdown-submenu" ng-repeat="nivel_3 in nivel_2.Opciones"> <a ng-href="{{actual}}" class="dropdown-toggle" data-toggle="dropdown" ng-if="nivel_3.Opciones !== null">{{nivel_3.Nombre}} </a> <ul class="dropdown-menu"> <li ng-repeat="nivel_4 in nivel_3.Opciones"> <a ng-href="{{\'#/\' + nivel_4.Url}}"> {{nivel_4.Nombre}} </a></li> </ul> </li> </ul> </li> </ul> </li> <!-- /.dropdown Notifications--> <li class="dropdown"> <a class="dropdown-toggle notificacion_vista" data-toggle="dropdown" ng-href="{{actual}}" ng-if="notificacion.no_vistos() > 0"> <i class="fa fa-bell fa-fw"></i>{{notificacion.no_vistos()}} <i class="fa fa-caret-down"></i> </a> <a class="dropdown-toggle" data-toggle="dropdown" ng-href="{{actual}}" ng-if="notificacion.no_vistos() == 0"> <i class="fa fa-bell fa-fw"></i> <i class="fa fa-caret-down"></i> </a> <ul class="dropdown-menu dropdown-alerts"> <li ng-repeat=" notificacion in notificacion.log | limitTo:6"> <a ng-href="{{\'#\' + actual}}" ng-click="notificacion.viewed = true"> <div> <i ng-if="! notificacion.viewed" class="fa fa-comment fa-fw"></i> <i ng-if="notificacion.viewed" class="fa fa-check-circle"></i> <strong>{{notificacion.user}}</strong> <span class="pull-right text-muted"> <em><span am-time-ago="notificacion.date"></span></em> </span> </div> <div ng-if="! notificacion.viewed">{{notificacion.message | limitTo:100}} ...</div> <div ng-if="notificacion.viewed">{{notificacion.message| limitTo:100}} ...</div> </a> </li> <li class="divider"></li> <li> <a class="text-center" ng-href="#/notificaciones"> <strong>Ver todas las notificaciones</strong> <i class="fa fa-angle-right"></i> </a> </li> </ul> <!-- /.dropdown --> </li><li class="dropdown" ng-if="token_service.live_token()"> <a class="dropdown-toggle" data-toggle="dropdown" ng-href="{{menuCtrl.actual}}"> <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i> </a> <ul class="dropdown-menu dropdown-user"> <li> <a ng-click=""> <i class="fa fa-sign-in fa-fw"></i> {{token_service.token.name}}</a>  </li> <li><a><i class="fa fa-gear fa-fw"></i> Settings</a> </li> <li class="divider"></li> <li><a ng-click="token_service.logout()"><i class="fa fa-sign-out fa-fw"></i> Logout</a> </li> </ul> <!-- /.dropdown-user --> </li> <li ng-if="!token_service.live_token()"> <oauth2 authorization-url="{{token_service.config.AUTORIZATION_URL}}" client-id="{{token_service.config.CLIENTE_ID}}" redirect-url="{{token_service.config.REDIRECT_URL}}" response-type="{{token_service.config.RESPONSE_TYPE}}" scope="{{token_service.config.SCOPE}}" button-class="{{token_service.config.BUTTON_CLASS}}"> </oauth2> </li> <!-- /.dropdown --> </ul> </div> <!-- /.navbar-header --> <!-- /.navbar-top-links --> <!-- /.navbar-static-side --> </nav> <ul class="breadcrumb"> <li ng-repeat="option in breadcrumb" ng-if="option === \'\'" class="breadcrumb-item"> <a href="#"><i class="fa fa-home" aria-hidden="true"></i>{{option}}</a> </li> <li ng-repeat="option in breadcrumb" ng-if="$middle" class="breadcrumb-item"> <a href="#">{{option}}</a> </li> <li ng-repeat="option in breadcrumb" ng-if="$last" class="breadcrumb-item active"> {{option}} </li> <div class="pull-right" style="margin-top:-6px"> <a id="es" name="es" class="{{language.es}}" ng-click="changeLanguage(\'es\')"> es</a> <a id="en" mane="en" class="{{language.en}}" ng-click="changeLanguage(\'en\')"> en</a> </div> </ul>'),a.put("views/nomina/nomina_consulta.html",'<br> <div class="row jumbotron"> <div class="col-sm-12 panel panel-default" ng-show="nominaConsulta.formVisibility"> <h2>{{\'TITULO_REG_NOMINA\' | translate }}</h2> <form> <div class="form-group row"> <label for="select_tipo_nomina" class="col-sm-5 col-form-label">{{\'TIPO_NOMINA\' | translate}}</label> <select name="select_tipo_nomina" id="select_tipo_nomina" ng-model="nominaConsulta.selectTipoNomina"> <option selected disabled>{{\'SELECCIONE\' | translate}}</option> <option ng-repeat="tnomina in nominaConsulta.tipoNomina" value="{{tnomina}}">{{tnomina.Descripcion}}</option> </select> </div> <button ng-click="nominaConsulta.limpiar()" class="btn btn-danger">{{\'CANCELAR\' | translate}}</button> <button ng-click="nominaConsulta.registrar_nomina()" class="btn btn-success">{{\'REGISTRAR\' | translate}}</button> </form> </div> <div class="row jumbotron" style="width:95%"> <button class="btn btn-success" ng-click="nominaConsulta.ShowForm()" ng-hide="nominaConsulta.formVisibility">{{\'ANADIR_NOMINA\' | translate}}</button> <h2>{{\'TITULO_NOMINA_REGIS\' | translate}}</h2> <table style="width:100%"> <td> <div ui-grid="nominaConsulta.gridOptions" class="myGrid"></div> </td>  </table> </div></div>'),a.put("views/notificaciones.html",'<div class="container"> <div class="panel panel-default"> <div class="panel-heading"> notificaciones. </div> <div class="panel-body"> <div class="row"> <div class="col-md-8 col-md-offset-2"> <div class="input-group"> <span class="input-group-addon"><i class="fa fa-search" aria-hidden="true"></i></span> <input type="text" class="form-control" ng-model="buscador" placeholder="Filtrar Notificación"> </div> </div> </div> <br> <md-content style="height: 500px"> <md-subheader class="md-warn">Notificaciones Pendientes</md-subheader> <div ng-repeat="m in notificacion.log | filter:{ $: buscador}" ng-if="!m.viewed"> <md-list-item class="md-3-line" ng-click="m.viewed = true"> <img ng-src="{{imagePath}}" class="img-responsive img-thumbnail" alt="No funciona"> <div class="md-list-item-text"> <h3>{{"Usuario:\\t" + m.user}}</h3> <p>{{"Mensaje: \\t" + m.message}}</p> <em><span am-time-ago="m.date"></span></em> </div> </md-list-item> </div> <md-subheader class="md-primary">Notificaciones Vistas</md-subheader> <div ng-repeat="m in notificacion.log | filter:{ $: buscador}" ng-if="m.viewed"> <md-list-item class="md-3-line" ng-click=""> <img ng-src="{{imagePath}}" class="img-responsive img-thumbnail" alt="No funciona"> <div class="md-list-item-text"> <h3>{{m.user}}</h3> <p>{{m.message}}</p> <em><span am-time-ago="m.date"></span></em> </div> </md-list-item></div>  </md-content></div> </div> </div>'),a.put("views/novedades/novedad_registro.html",'<br> <div class="col-md-6"> <div class="panel panel-default"> <div class="panel-heading">{{\'SELECCION_PERSONA\'| translate}}</div> <div class="panel-body"> <div ui-grid="gridOptions_personas" ui-grid-selection ui-grid-auto-resize class="myGrid"></div> </div> </div> </div> <div class="col-md-6"> <div class="panel panel-default"> <div class="panel-heading">{{\'DETALLE_NOVEDAD\'| translate}}</div> <div class="panel-body"> <button class="btn btn-success" data-toggle="modal" data-target="#modal_adicion_novedad" ng-click="novedadRegistro.listar_conceptos()" ng-show="persona">{{\'AGREGAR_NOVEDAD\' | translate}}</button> <br> <div ui-grid="gridOptions_novedades" ui-grid-selection ui-grid-auto-resize class="myGrid"> <div class="watermark" ng-show="!gridOptions_novedades.data.length">{{\'ALERTA_NO_NOVEDADES\'| translate}}</div> </div> </div> </div> </div> <div id="modal_adicion_novedad" class="modal fade" role="dialog"> <style>.md-datepicker-calendar-pane{\n      z-index: 1200}</style> <div class="modal-content col-md-10 col-md-offset-1" style="margin-top: 5%"> <div class="modal-header"> <button type="button" class="btn btn-outline btn-danger btn-xs pull-right" data-dismiss="modal">&times</button><br> </div> <div class="modal-body"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">{{\'TITULO_REG_NOVEDAD\'| translate}}</h3> </div> <div class="panel-body"> <form name="formplan" ng-submit="formplan.$valid"> <div ui-grid="gridOptions_conceptos" ui-grid-selection ui-grid-auto-resize class="myGrid"></div> <div ng-show="concepto.TipoConcepto.Nombre===\'fijo\'"> <!-- Select Basic --> <div class="form-group"> <label class="col-sm-5 col-form-label" for="txtValNovedad">{{\'VALOR_CONCEPTO\' | translate}}</label> <div class="col-md-4"> <input id="txtValNovedad" name="txtValNovedad" ng-model="novedadRegistro.ValorNovedad" md-placeholder="{{\'VALOR_CONCEPTO\' | translate}}"> </div> </div> <div class="form-group"> <label class="col-sm-5 col-form-label" for="txtCuotas">{{\'CUOTAS_NOV\' | translate}}</label> <div class="col-md-4"> <input id="txtCuotas" name="txtCuotas" ng-model="novedadRegistro.NumCuotas" md-placeholder="{{\'CUOTAS_NOV\' | translate}}"> </div> </div> <center><button ng-click="novedadRegistro.Registrar()" class="btn btn-outline btn-primary">{{\'CONFIRMAR\' | translate}}</button></center> </div> <div ng-show="concepto.TipoConcepto.Nombre===\'porcentaje\'"> <!-- Select Basic --> <div class="form-group"> <label class="col-md-4 control-label" for="txtValNovedad">{{\'VALOR_CONCEPTO\' | translate}}</label> <div class="col-md-4"> <input id="txtValNovedad" name="txtValNovedad" ng-model="novedadRegistro.ValorNovedad" md-placeholder="{{\'VALOR_CONCEPTO\'| translate}}"> </div> </div> <center><button ng-click="novedadRegistro.Registrar()" class="btn btn-outline btn-primary">{{\'CONFIRMAR\' | translate}}</button></center> </div> <div ng-show="concepto.TipoConcepto.Nombre===\'seguridad_social\'"> <!-- Select Basic --> <div class="form-group"> <label class="col-sm-5 col-form-label" for="txtFechaInicio">{{\'FECHA_INICIO\' | translate}}</label> <div class="col-md-4"> <md-datepicker id="txtFechaInicio" name="txtFechaInicio" ng-model="novedadRegistro.FechaInicio" md-placeholder="{{\'FECHA_INICIO\'| translate}}"></md-datepicker> </div> </div> <div class="form-group"> <label class="col-sm-5 col-form-label" for="txtFechaFin">{{\'FECHA_FIN\' | translate}}</label> <div class="col-md-4"> <md-datepicker id="txtFechaFin" name="txtFechaFin" ng-model="novedadRegistro.FechaFin" md-placeholder="{{\'FECHA_FIN\'| translate}}"></md-datepicker> </div> </div> <center><button ng-click="novedadRegistro.Registrar()" class="btn btn-outline btn-primary">{{\'CONFIRMAR\' | translate}}</button></center> </div>  </form> </div> </div> <div>  </div> </div> </div> </div> <div id="modal_edicion_novedad" class="modal fade" role="dialog"> <style>.md-datepicker-calendar-pane{\n        z-index: 1200}</style> <div class="modal-content col-md-10 col-md-offset-1" style="margin-top: 5%"> <div class="modal-header"> <button type="button" class="btn btn-outline btn-danger btn-xs pull-right" data-dismiss="modal">&times</button><br> </div> <div class="modal-body"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">{{\'TITULO_EDICION_NOVEDAD\' | translate}}</h3> </div> <div class="panel-body"> <form name="formplan" ng-submit="formplan.$valid"> <div ng-show="novedadRegistro.tipo_concepto_edicion ===\'porcentaje\'"> <div class="form-group"> <label class="col-sm-5 col-form-label" for="txtValNovedad">{{\'VALOR_CONCEPTO\' | translate}}</label> <div class="col-md-4"> <input id="txtValNovedad" name="txtValNovedad" ng-model="novedadRegistro.valor_novedad_edicion" md-placeholder="{{\'VALOR_CONCEPTO\' | translate}}"> </div> </div> </div> <div ng-show="novedadRegistro.tipo_concepto_edicion ===\'fijo\'"> <div class="form-group"> <label class="col-sm-5 col-form-label" for="txtValNovedad">{{\'VALOR_CONCEPTO\' | translate}}</label> <div class="col-md-4"> <input id="txtValNovedad" name="txtValNovedad" ng-model="novedadRegistro.valor_novedad_edicion" md-placeholder="{{\'VALOR_CONCEPTO\' | translate}}"> </div> </div> <div class="form-group"> <label class="col-sm-5 col-form-label" for="txtCuotas">{{\'CUOTAS_NOV\' | translate}}</label> <div class="col-md-4"> <input id="txtCuotas" name="txtCuotas" ng-model="novedadRegistro.num_cuotas_edicion" md-placeholder="{{\'CUOTAS_NOV\' | translate}}"> </div> </div> </div> <div ng-show="novedadRegistro.tipo_concepto_edicion ===\'seguridad_social\'"> <div class="form-group"> <label class="col-sm-5 col-form-label" for="txtFechaDesde">{{\'FECHA_INICIO\' | translate}}</label> <div class="col-md-4"> <md-datepicker id="txtFechaDesde" name="txtFechaDesde" ng-model="novedadRegistro.FechaInicio" md-placeholder="{{\'FECHA_INICIO\'| translate}}"></md-datepicker> </div> </div> <div class="form-group"> <label class="col-sm-5 col-form-label" for="txtFechaHasta">{{\'FECHA_FIN\' | translate}}</label> <div class="col-md-4"> <md-datepicker id="txtFechaHasta" name="txtFechaHasta" ng-model="novedadRegistro.FechaFin" md-placeholder="{{\'FECHA_FIN\'| translate}}"></md-datepicker> </div> </div> </div> <br> <center><button ng-click="novedadRegistro.Editar()" class="btn btn-outline btn-primary">{{\'CONFIRMAR\' | translate}}</button></center>  </form> </div> </div> </div> </div> </div> '),
a.put("views/pensiones/beneficiario.html",'<div class="row jumbotron"> <div class="col-sm-12 panel panel-default" ng-show="formVisibility"> <h2>Registro beneficiario</h2> <form> <div class="form-group row"> <select class="select_Tipo_Documento" name="selectTipoDocumento"> <option selected disabled>Seleccione...</option> <option value="cedula_ciudadania">Cedula de ciudadania</option> <option value="cedula_extranjeria">Cedula de extranjeria</option> <option value="tarjeta_identidad">Tarjeta de identidad</option> </select> <label for="input_id" class="col-sm-5 col-form-label">Numero de identificacion</label> <input type="text" name="input_id" ng-model="idpersona" placeholder="ingrese identificacion"> </div> <div class="form-group row"> <label for="input_nombre" class="col-sm-5 col-form-label">Nombres del beneficiario</label> <input name="input_nombre" type="text" ng-model="primernombreBeneficiario" placeholder="Primer nombre"> <input name="input_nombre" type="text" ng-model="segundonombreBeneficiario" placeholder="Segundo nombre"> </div> <div class="form-group row"> <label for="input_apellido" class="col-sm-5 col-form-label">Apellido del beneficiario</label> <input name="input_apellido" type="text" ng-model="ApellidoBeneficiario" placeholder="Primer apellido "> <input name="input_apellido" type="text" ng-model="SegundoapellidoBeneficiario" placeholder="Segundo apellido"> </div> <div class="form-group row"> <label for="select_categoria_beneficiario" class="col-sm-5 col-form-label">Parentesco</label> <select name="select_categoria_beneficiario" id="select_categoria_beneficiario" ng-model="selectCategoria"> <option selected disabled>Seleccione..</option> <option value="conyugue">Conyugue</option> <option value="hijo">Hijo</option> <option value="padre">Padre</option> <option value="madre">Madre</option> <option value="hermanodisc">Hermano con discapacidad</option> </select> </div> <div class="form-group row"> <label for="select_parentesco con" class="col-sm-5 col-form-label">Pariente directo de</label> <input type="text" name="parentesco_com" placeholder="identificacion del pariente"> </div> <div class="form-group row"> <label for="input_nombre" class="col-sm-5 col-form-label">Nombre del pariente</label> <input name="input_nombre" type="text" ng-model="nombres pariente" placeholder="Nombres"> <input name="input_nombre" type="text" ng-model="apellido pariente" placeholder="Apellido"> </div> <div class="form-group row"> <label for="select_genero" class="col-sm-5 col-form-label">Genero </label> <select name="select_genero" id="select_genero" ng-model="selectGenero"> <option selected disabled>Seleccione..</option> <option value="masculino">Masculino</option> <option value="femenino">Femenino</option> </select> </div> <div class="form-group row"> <label for="select_email" class="col-sm-5 col-form-label">Correo electronico </label> <input type="text" name="email" placeholder="Correo electronico"> </div> <div class="form-group row"> <label for="select_numcontacto" class="col-sm-5 col-form-label">Numero de contacto</label> <input type="text" name="numero_contacto" placeholder="numero de contacto"> </div> <div class="form-group row"> <label for="input_fechaNac" class="col-sm-5 col-form-label">Fecha de Nac</label> <input type="date" name="fecha"> <md-datepicker ng-model="fecha_naci" md-placeholder="Fecha de nacimiento"></md-datepicker> </div> <div class="form-group row"> <label for="select_estado_civil" class="col-sm-5 col-form-label">Estado civil</label> <select name="select_estcivil" id="select_estcivil" ng-model="select_estcivil"> <option selected disabled>Seleccione..</option> <option value="Soltero">Soltero</option> <option value="Casado">Casado</option> <option value="Union libre">Union libre</option> <option value="Union libre">Separado</option> <option value="viudez">viudez</option> </select> </div> <div class="form-group row"> <label for="select_eps" class="col-sm-5 col-form-label">Afiliacion a Eps</label> <select name="select_eps" id="select_eps" ng-model="select_eps"> <option selected disabled>Seleccione..</option> <option value="2">Salud Total</option> <option value="3">CafeSalud</option> <option value="4">Sanitas</option> <option value="5">Compensar</option> <option value="5">Confenalco antioquia</option> <option value="5">eps sura</option> <option value="5">Saludcoop</option> <option value="5">HumanaVivir</option> <option value="5">Salud Colpatria</option> <option value="5">Coomeva</option> <option value="5">Famisanar</option> <option value="5">Cruz Blanca</option> <option value="5">Nueva Eps</option> <option value="5">Otra</option> </select> </div> <div class="form-group row"> <label for="tipo_cuenta_banco" class="col-sm-5 col-form-label">Tipo de cuenta bancaria:</label> <select class="tipo_cuenta_banc"> <option selected disabled>Seleccione..</option> <option value="ahorros">AHORROS</option> <option value="corriente">CORRIENTE</option> </select> </div> <div class="form-group row"> <label for="num_cuenta_bancaria" class="col-sm-5 col-form-label">Numero de cuenta bancaria</label> <input type="text" name="num_cuenta" placeholder="ingrese numero cuenta"> </div> <div class="form-group row"> <label for="nombre_banco" class="col-sm-5 col-form-label">Banco asociado</label> <input type="text" name="nombre_banco" placeholder="Banco"> </div> <div class="form-group row"> <label for="select_numcontacto" class="col-sm-5 col-form-label">Activo</label> <select class="estado" name="estado"> <option selected disabled>Seleccione..</option> <option value="Activo">Activo</option> <option value="Inactivo">Inactivo</option> </select> </div> <button ng-click="limpiar()" class="btn">Cancelar</button> <button ng-click="registrar_beneficiario()" class="btn">Registrar</button> </form> <br> <br> </div></div>'),a.put("views/pensiones/beneficiarios.html",'<div class="row jumbotron"> <div class="col-sm-12 panel panel-default"> <h2>{{\'TITULO_REG_BEN\'| translate}}</h2> <form> <div class="form-group row"> <select id="select_Tipo_Documento" name="select_Tipo_Documento" ng-model="beneficiarios.tipoDocumento"> <option selected disabled>{{\'SELECCIONE\'| translate}}</option> <option value="7">{{\'CED_CIU\'| translate}}</option> <option value="10">{{\'CEDULA_EXTRAN\'| translate}}</option> <option value="2">{{\'TARJETA_IDEN\'| translate}}</option> </select> <label for="input_id" class="col-sm-5 col-form-label">{{\'NUM_DOC_BEN\'| translate}}</label> <input type="text" name="input_id" ng-model="beneficiarios.numDocumento" placeholder="{{\'NUM_DOC_BEN\'| translate}}"> </div> <div class="form-group row"> <label for="input_nombre" class="col-sm-5 col-form-label">{{\'NOM_BEN\' | translate}}</label> <input name="input_nombre" type="text" ng-model="beneficiarios.primerNombre" placeholder="{{\'PRI_NOM\' | translate}}"> <input name="input_nombre" type="text" ng-model="beneficiarios.segundoNombre" placeholder="{{\'SEG_NOM\' | translate}}"> </div> <div class="form-group row"> <label for="input_apellido" class="col-sm-5 col-form-label">{{\'APE_BEN\' | translate}}</label> <input name="input_apellido" type="text" ng-model="beneficiarios.primerApellido" placeholder="{{\'PRI_APE\' | translate}}"> <input name="input_apellido" type="text" ng-model="beneficiarios.segundoApellido" placeholder="{{\'PRI_APE\' | translate}}"> </div> <div class="form-group row"> <label for="select_categoria_beneficiario" class="col-sm-5 col-form-label">{{\'PARENTESCO\' | translate}}</label> <select name="select_categoria_beneficiario" id="select_categoria_beneficiario" ng-model="beneficiarios.selectCategoria"> <option selected disabled>{{\'SELECCIONE\'| translate}}</option> <option ng-repeat="tcategoria in beneficiarios.categoria" value="{{tcategoria.Id}}">{{tcategoria.NombreTipoBeneficiario}}</option> </select> </div> <div class="form-group row"> <label for="select_parentesco con" class="col-sm-5 col-form-label">{{\'PARENTESCO_CON\' | translate}}</label> <input name="select_pensionado" type="text" ng-model="beneficiarios.pensionado" placeholder="Identificacion del pariente"> </div> <!--<div class="form-group row">\n           <label for="input_nombre" class="col-sm-5 col-form-label">Nombre del pariente</label>\n           <input name="input_nombre" type="text" ng-model="nombresPariente" placeholder="Nombres">\n           <input name="input_nombre" type="text" ng-model="apellidoPariente" placeholder="Apellido">\n         </div>--> <div class="form-group row"> <label for="select_genero" class="col-sm-5 col-form-label">{{\'GENERO\'| translate}} </label> <select name="select_genero" id="select_genero" ng-model="beneficiarios.genero"> <option selected disabled>{{\'SELECCIONE\'| translate}}</option> <option value="MASCULINO">{{\'MASCULINO\'| translate}}</option> <option value="FEMENINO">{{\'FEMENINO\'| translate}}</option> </select> </div> <div class="form-group row"> <label for="select_email" class="col-sm-5 col-form-label">{{\'CORREO_ELEC\'| translate}} </label> <input type="text" name="email" ng-model="beneficiarios.correo" placeholder="{{\'CORREO_ELEC\'| translate}}"> </div> <div class="form-group row"> <label for="select_numcontacto" class="col-sm-5 col-form-label">{{\'NUMERO_CONTACTO\'| translate}}</label> <input type="text" name="numero_contacto" ng-model="beneficiarios.telefono" placeholder="{{\'NUMERO_CONTACTO\'| translate}}"> </div> <div class="form-group row"> <label for="input_fechaNac" class="col-sm-5 col-form-label">{{\'FECHA_NAC_BEN\'| translate}}</label> <md-datepicker ng-model="beneficiarios.fechaNac" md-placeholder="{{\'FECHA_NAC_BEN\'| translate}}"></md-datepicker> </div> <div class="form-group row"> <label for="select_estado_civil" class="col-sm-5 col-form-label">{{\'APLICA_SUB_FAMILIAR\'| translate}} </label> <select name="select_estcivil" ng-model="beneficiarios.subsidioF"> <option selected disabled>Seleccione..</option> <option value="S">{{\'SI\'| translate}}</option> <option value="N">{{\'NO\'| translate}}</option> </select> </div> <div class="form-group row"> <label for="select_estado_civil" class="col-sm-5 col-form-label">{{\'APLICA_SUB_ESTUDIO\'| translate}} </label> <select name="select_estcivil" ng-model="beneficiarios.subsidioE"> <option selected disabled>Seleccione..</option> <option value="S">{{\'SI\'| translate}}</option> <option value="N">{{\'NO\'| translate}}</option> </select> </div> <div class="form-group row"> <label for="tipo_cuenta_banco" class="col-sm-5 col-form-label">{{\'TIPO_CUENTA\'| translate}}</label> <select class="tipo_cuenta_banc" ng-model="beneficiarios.tipoCuenta"> <option selected disabled>Seleccione..</option> <option value="AHORROS">{{\'AHORROS\'| translate}}</option> <option value="CORRIENTE">{{\'CORRIENTE\'| translate}}</option> </select> </div> <div class="form-group row"> <label for="num_cuenta_bancaria" class="col-sm-5 col-form-label">{{\'NUMERO_CUENTA\'| translate}}</label> <input type="text" name="num_cuenta" ng-model="beneficiarios.numeroCuenta" placeholder="{{\'NUMERO_CUENTA\'| translate}}"> </div> <div class="form-group row"> <label for="nombre_banco" class="col-sm-5 col-form-label">{{\'BANCO_ASOCIADO\'| translate}}</label> <select name="select_banco" ng-model="beneficiarios.selectBanco"> <option selected disabled>Seleccione...</option> <option ng-repeat="tbanco in beneficiarios.banco" value="{{tbanco.Id}}">{{tbanco.NombreBanco}}</option> </select> </div> <div class="form-group row"> <label for="select_numcontacto" class="col-sm-5 col-form-label">{{\'ESTADO_BEN\'| translate}}</label> <select class="estado" name="estado" ng-model="beneficiarios.estado"> <option selected disabled>{{\'SELECCIONE\'| translate}}.</option> <option value="A">{{\'ACTIVO\'| translate}}</option> <option value="I">{{\'INACTIVO\'| translate}}</option> </select> </div> <button ng-click="beneficiarios.limpiar()" class="btn btn-danger">{{\'CANCELAR\'| translate}}</button> <button ng-click="beneficiarios.registrar_perNatural()" class="btn btn-success">{{\'REGISTRAR\'| translate}}</button> </form> <br> <br> </div></div>'),a.put("views/pensiones/sustituto.html",'<div class="row jumbotron"> <div class="col-sm-12 panel panel-default"> <h2>{{\'TITULO_SUS\' | translate}}</h2><br> <form> <div class="form-group row"> <label for="pensionado" class="col-sm-5 col-form-label">{{\'DOC_FUN_PEN\' | translate}}</label> <input type="text" name="id_pensionado" ng-model="sustituto.selectPensionado"> </div> <div class="form-group row"> <label for="beneficiario" class="col-sm-5 col-form-label">{{\'DOC_BEN_SUS\' | translate}}</label> <input type="text" name="id_beneficiario" ng-model="sustituto.selectBeneficiario"> </div> <div class="form-group row"> <label for="porcentaje_sust" class="col-sm-5 col-form-label">{{\'PORCENTAJE\' | translate}} </label> <input type="text" name="id_beneficiario" maxlength="3" ng-model="sustituto.selectPorcentaje" placeholder="%  1 - 100"> </div> <div class="form-group row"> <label for="select_numcontacto" class="col-sm-5 col-form-label">{{\'ESTADO_SUS\' | translate}}</label> <select class="estado" name="estado" ng-model="sustituto.estado"> <option selected disabled>{{\'SELECCIONE\' | translate}}</option> <option value="A">{{\'ACTIVO\' | translate}}</option> <option value="I">{{\'INACTIVO\' | translate}}</option> </select> </div> <br><br> <div class="form-group row"> <label><i>{{\'TITULO_TUTOR\' | translate}}</i></label> </div> <br><br><br><br> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">{{\'TITULO_REG_TUTOR\' | translate}}</h3> </div> <div class="panel-body"> <div class="form-group row"> <select class="select_Tipo_Documento" name="selectTipoDocumento" ng-model="sustituto.tipoDocumento"> <option selected disabled>{{\'SELECCIONE\' | translate}}</option> <option value="7">{{\'CED_CIU\' | translate}}</option> <option value="10">{{\'CEDULA_EXTRAN\' | translate}}</option> <option value="2">{{\'TARJETA_IDEN\' | translate}}</option> </select> <label for="input_id" class="col-sm-5 col-form-label">{{\'NUM_DOC_TUTOR\' | translate}}</label> <input type="text" name="input_id" ng-model="sustituto.numDocumento" placeholder="{{\'NUM_DOC_TUTOR\' | translate}}"> </div> <div class="form-group row"> <label for="input_nombre" class="col-sm-5 col-form-label">{{\'NOM_TUTOR\' | translate}}</label> <input name="input_nombre" type="text" ng-model="sustituto.primerNombreTutor" placeholder="{{\'PRI_NOM\' | translate}}"> <input name="input_nombre" type="text" ng-model="sustituto.segundoNombreTutor" placeholder="{{\'SEG_NOM\' | translate}}"> </div> <div class="form-group row"> <label for="input_apellido" class="col-sm-5 col-form-label">{{\'APE_TUTOR\' | translate}}</label> <input name="input_apellido" type="text" ng-model="sustituto.primerApellidoTutor" placeholder="{{\'PRI_APE\' | translate}}"> <input name="input_apellido" type="text" ng-model="sustituto.segundoAPellidoTutor" placeholder="{{\'SEG_NOM\' | translate}}"> </div> <div class="form-group row"> <label for="input_apellido" class="col-sm-5 col-form-label">{{\'BEN_ASOCIADO\' | translate}}</label> <input name="input_apellido" type="text" ng-model="sustituto.ccBeneficiario" placeholder="{{\'ID_BENEFICIARIO\' | translate}}"> </div> <div class="form-group row"> <label for="select_genero" class="col-sm-5 col-form-label">{{\'GENERO\' | translate}} </label> <select name="select_genero" id="select_genero" ng-model="sustituto.genero"> <option selected disabled>{{\'SELECCIONE\' | translate}}</option> <option value="MASCULINO">{{\'MASCULINO\' | translate}}</option> <option value="FEMENINO">{{\'FEMENINO\' | translate}}</option> </select> </div> <div class="form-group row"> <label for="select_email" class="col-sm-5 col-form-label">{{\'CORREO_ELEC\' | translate}} </label> <input type="text" name="email" placeholder="{{\'CORREO_ELEC\' | translate}}" ng-model="sustituto.correo"> </div> <div class="form-group row"> <label for="select_numcontacto" class="col-sm-5 col-form-label">{{\'NUMERO_CONTACTO\' | translate}}</label> <input type="text" name="numero_contacto" placeholder="{{\'NUMERO_CONTACTO\' | translate}}" ng-model="sustituto.telefono"> </div> <div class="form-group row"> <label for="tipo_cuenta_banco" class="col-sm-5 col-form-label">{{\'TIPO_CUENTA\' | translate}}</label> <select class="tipo_cuenta_banc" ng-model="sustituto.tipoCuenta"> <option selected disabled>{{\'SELECCIONE\'| translate}}</option> <option value="AHORROS">{{\'AHORROS\'| translate}}</option> <option value="CORRIENTE">C{{\'CORRIENTE\'| translate}}</option> </select> </div> <div class="form-group row"> <label for="num_cuenta_bancaria" class="col-sm-5 col-form-label">{{\'NUMERO_CUENTA\' | translate}}</label> <input type="text" name="num_cuenta" placeholder="{{\'NUMERO_CUENTA\' | translate}}" sustituto.tipocuenta> </div> <div class="form-group row"> <label for="nombre_banco" class="col-sm-5 col-form-label">{{\'BANCO_ASOCIADO\' | translate}}</label> <select name="select_banco" ng-model="sustituto.selectBanco"> <option selected disabled>{{\'SELECCIONE\'| translate}}</option> <option ng-repeat="tbanco in sustituto.banco" value="{{tbanco.Id}}">{{tbanco.NombreBanco}}</option> </select> </div> <div class="form-group row"> <button ng-click="sustituto.habilitar_sustituto()" class="btn">{{\'HABILITAR_BENEFICIARIO\' | translate}}</button> <button ng-click="sustituto.limpiar()" class="btn">{{\'CANCELAR\'| translate}}</button> </div> </div> </div> </form> </div></div>'),a.put("views/preliquidacion/preliquidacion_detalle.html",' <div class="row"> <div class="col-md-8"> <div class="panel panel-primary"> <div class="panel-heading"><h3><b>{{\'TITULO_DETALLE_PRELIQ\' | translate}} {{preliquidacionDetalle.preliquidacion.Nomina.TipoNomina.Nombre}}</b></h3></div> <div class="panel-body"> <table style="width:95%"> <tr> <td> <div ui-grid="preliquidacionDetalle.gridOptions" ui-grid-selection ui-grid-exporter class="myGrid"></div> </td> </tr> </table> <br> <button ng-click="preliquidacionDetalle.generar_pdf()" class="btn btn-primary btn-lg" ng-disabled="preliquidacionDetalle.saving"> <i class="fa fa-spinner fa-spin" ng-show="preliquidacionDetalle.saving"></i>{{\'GENERAR_PDF\' | translate}}</button> <h2>{{\'RESUMEN_PRELIQ\'| translate}}</h2> <table class="table"> <tr> <th>{{\'CONCEPTO\' | translate}}</th><th>{{\'TOTAL\' | translate}}</th> </tr> <tr> <th>{{\'SUELDOS_NETOS\' | translate}} </th><td>{{preliquidacionDetalle.total_sueldos_neto | currency}}</td> </tr> <tr ng-repeat="(key, value) in preliquidacionDetalle.resumen_conceptos"> <th>{{key}}</th><td>{{value | currency}}</td> </tr> </table> <button ng-click="preliquidacionDetalle.solicitar_necesidad()" class="btn btn-primary btn-lg" ng-disabled="preliquidacionDetalle.saving"> <i class="fa fa-spinner fa-spin" ng-show="preliquidacionDetalle.saving"></i>{{\'GENERAR_NECESIDAD\' | translate}}</button> </div> </div> </div> <div class="col-md-4"> <div class="panel panel-primary"> <div class="panel-heading">{{\'DETALLE_EMP\' | translate}}</div> <div class="panel-body" ng-show="preliquidacionDetalle.seleccion_conceptos"> <table class="table table-scrollable"> <tr> <th>{{\'CONCEPTO\' | translate}}</th><th>{{\'VALOR\'|translate}}</th><th>{{\'NATURALEZA\'| translate}}</th><th>{{\'TIPO\'| translate}}</th> </tr> <tr ng-repeat="concepto in preliquidacionDetalle.seleccion_conceptos" ng-show="concepto.Naturaleza === \'devengo\'" class="devengo"> <td class="texto">{{concepto.Nombre}}</td><td class="dinero">{{concepto.Valor | currency}}</td><td>{{concepto.Naturaleza}}</td><td>{{concepto.TipoPreliquidacion}}</td> </tr> <tr ng-repeat="concepto in preliquidacionDetalle.seleccion_conceptos" ng-show="concepto.Naturaleza === \'descuento\'" class="descuento"> <td class="texto">{{concepto.Nombre}}</td><td class="dinero">{{concepto.Valor | currency}}</td><td>{{concepto.Naturaleza}}</td> </tr> <tr ng-repeat="concepto in preliquidacionDetalle.seleccion_conceptos" ng-show="concepto.Naturaleza === \'seguridad_social\'" class="seguridad_social"> <td class="texto">{{concepto.Nombre}}</td><td class="dinero">{{concepto.Valor | currency}}</td><td>{{concepto.Naturaleza}}</td> </tr> </table> <br> <table class="table"> <tr> <th>{{\'TOTAL_DEV\' | translate}}</th><td class="dinero_total">{{preliquidacionDetalle.seleccion_tot_devengo | currency}}</td> </tr> <tr> <th>{{\'TOTAL_DESC\'| translate}}</th><td class="dinero_total">{{preliquidacionDetalle.seleccion_tot_descuentos | currency}}</td> </tr> <tr> <th>{{\'TOTAL_PAGAR\' | translate}}</th><td class="dinero_total">{{preliquidacionDetalle.seleccion_sueldoNeto | currency}}</td> </tr> </table> </div> </div> </div> </div>'),a.put("views/preliquidacion/preliquidacion_personas.html",'<br> <div class="jumbotron text-center"> <h3><b>{{\'PRELIQ_NOMINA\'| translate}}{{preliquidacionPersonas.preliquidacion.Nomina.TipoNomina.Nombre}}</b></h3> <h4>{{\'FECHA_PRELIQ\'| translate}} : {{preliquidacionPersonas.preliquidacion.FechaRegistro | date:"yyyy-MM-dd":"+0900"}}</h4>  <table style="width:95%"> <tr> <td> <div ui-grid="preliquidacionPersonas.gridOptions" ui-grid-selection class="myGrid"></div> </td> </tr> <tr> <td> <button ng-click="preliquidacionPersonas.generar_preliquidacion()" class="btn btn-primary btn-lg" ng-disabled="preliquidacionPersonas.saving"> <i class="fa fa-spinner fa-spin" ng-show="preliquidacionPersonas.saving"></i>{{preliquidacionPersonas.btnGenerartxt}}</button> </td> </tr> </table> </div>'),a.put("views/preliquidacion/preliquidacion_registro.html",'<br> <div class="alert alert-warning text-center" ng-show="preliquidacionRegistro.loading"> <div class="row"> <h1 class="col-sm-7">{{\'GENERANDO\'| translate}}</h1> <div class="loader col-sm-5"></div> </div> </div> <div class="row jumbotron" ng-hide="preliquidacionRegistro.loading"> <button class="btn btn-success" ng-click="preliquidacionRegistro.ShowForm()" ng-hide="preliquidacionRegistro.formVisibility">{{\'ANADIR_PRELIQ\' | translate}}</button> <div class="col-sm-12 panel panel-default" ng-show="preliquidacionRegistro.formVisibility"> <h2>{{\'TITULO_REG_PRELIQ\' | translate}}</h2> <form> <div class="form-group row"> <label for="input_mes" class="col-sm-5 col-form-label">{{\'MES_PRELIQ\' | translate}}</label> <textarea name="input_mes" ng-model="preliquidacionRegistro.MesPreliq"></textarea> </div> <div class="form-group row"> <label for="input_mes" class="col-sm-5 col-form-label">{{\'ANO_PRELIQ\' | translate}}</label> <textarea name="input_mes" ng-model="preliquidacionRegistro.AnoPreliq"></textarea> </div> <button ng-click="preliquidacionRegistro.limpiar()" class="btn btn-danger">{{\'CANCELAR\' | translate}}</button> <button ng-click="preliquidacionRegistro.registrar_preliqu()" class="btn btn-success">{{\'REGISTRAR\'| translate}}</button> </form> </div> <br> <br> <br> <div class="row jumbotron"> <h2>{{\'TITULO_PRELIQ_REGIS\'|translate}} <b>{{preliquidacionRegistro.nomina.TipoNomina.Nombre}}</b> :</h2> <table style="width:95%"> <tr> <td width="10%"> </td> <td> <div ui-grid="preliquidacionRegistro.gridOptions" class="myGrid"></div> </td> </tr> </table> </div> </div>'),a.put("views/seguimiento_contractual/aprobacion_pago.html",'<br> <div class="panel panel-default"> <div class="panel panel-primary panel-body"> <!--Cabecera del panel--> <h2 class="page-header text-center">APROBACIONES DOCUMENTOS NÓMINA</h2> <div class="panel-body"> <div class="row"> <div class="panel panel-default col-lg-10 col-lg-offset-1"> <div class="panel-body"> <form role="form"> <div class="row"> <div class="form-group col-lg-9"> <label>NUMERO DOCUMENTO DE IDENTIDAD</label> <input type="text" class="form-control" ng-model="aprobacionPago.Documento" placeholder="Ingrese su número de documento de identidad" required> </div> <div class="form-group col-lg-3"> <label> </label> <input type="submit" class="form-control btn btn-success" value="Consultar Información" ng-click="aprobacionPago.obtener_informacion_supervisor()"> </div> <div class="form-group col-lg-6"> <label>NOMBRE SUPERVISOR</label> <input type="text" class="form-control" ng-model="aprobacionPago.supervisor.nombre"> </div> <!-- <div class="form-group col-lg-6">\n                <label>CARGO SUPERVISOR DEL CONTRATO</label>\n                <input type="text" class="form-control" ng-model="aprobacionPago.supervisor.cargo">\n              </div> --> </div> <div style="height: {{gridHeight}}px" ui-grid="aprobacionPago.gridOptions1" align="center" ui-grid-auto-resize></div> </form> </div> </div> </div> </div> </div> </div>'),a.put("views/seguimiento_contractual/crear_cumplido.html",'<br> <div class="panel panel-default"> <div class="panel panel-primary panel-body"> <!--Cabecera del panel--> <h2 class="page-header text-center">{{ \'TITULO_REG_CUMPLIDO\' | translate }}</h2> <div class="panel-body"> <div class="row"> <div class="panel panel-default col-lg-10 col-lg-offset-1"> <div class="panel-body"> <form role="form"> <div class="row"> <div class="form-group col-lg-9"> <label>{{ \'NUM_DOC_IDENTIDAD\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.Documento" placeholder="{{ \'PLACE_NUM_DOC\' | translate }}" required> </div> <div class="form-group col-lg-3"> <label></label> <input type="submit" class="form-control btn btn-success" value="{{ \'ACCION_CONSULTAR_NUM_DOC\' | translate }}" ng-click="crearCumplido.obtener_informacion_cumplido()"> </div> <div class="form-group col-lg-6"> <label>{{ \'NAME_CONTRATISTA\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.nombre_completo"> </div> <div class="form-group col-lg-6"> <label>{{ \'TIPO_DOC\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.Documento.tipo"> </div> <div class="form-group col-lg-6"> <label>{{ \'CIUDAD_DOC\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.Documento.ciudad"> </div> <div class="form-group col-lg-6"> <label>{{ \'NUM_CONTRAC\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido.numero_contrato"> </div> <div class="form-group col-lg-6"> <label>{{ \'FECH_SUSC_CONT\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.contrato.fecha"> </div> <div class="form-group col-lg-6"> <label>{{ \'UNIDAD_EJE\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.unidad_ejecutora.nombre"> </div> <div class="form-group col-lg-6"> <label>{{ \'VIGENCIA\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido.vigencia"> </div> <div class="form-group col-lg-6"> <label>{{ \'TIPO_CUENTA\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.cuenta.tipo"> </div><div class="form-group col-lg-6"> <label>{{ \'BANCO\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.cuenta.banco"> </div> <div class="form-group col-lg-6"> <label>{{ \'NUM_CUENTA\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.cuenta.numero"> </div> <div class="form-group col-lg-6"> <label>{{ \'DEPENDENCIA\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.dependencia"> </div> <div class="form-group col-lg-6"> <label>{{ \'SUPERVISOR\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.supervisor.nombre"> </div> <div class="form-group col-lg-6"> <label>{{ \'CARGO_SUP\' | translate }}</label> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.supervisor.cargo"> </div> <div class="form-group col-lg-6"> <label>{{ \'CUMPLIDO_MES\' | translate }}</label> <select class="form-control" ng-model="crearCumplido.cumplido_informacion.mes" required> <option value="">{{ \'PLACE_MES\' | translate }}</option> <option value="ENERO">ENERO</option> <option value="FEBRERO">FEBRERO</option> <option value="MARZO">MARZO</option> <option value="ABRIL">ABRIL</option> <option value="MAYO">MAYO</option> <option value="JUNIO">JUNIO</option> <option value="JULIO">JULIO</option> <option value="AGOSTO">AGOSTO</option> <option value="SEPTIEMBRE">SEPTIEMBRE</option> <option value="OCTUBRE">OCTUBRE</option> <option value="NOVIEMBRE">NOVIEMBRE</option> <option value="DICIEMBRE">DICIEMBRE</option> </select> </div> </div> <div class="form-group col-lg-6"> <label>{{ \'DIAS_LABORADOS\' | translate }}</label><br> <p>{{ \'PLACE_DIAS_LAB\' | translate }}</p> {{ \'DIA_INI\' | translate }}<input type="number" class="form-control" ng-model="crearCumplido.cumplido_informacion.dia_inicial" required> {{ \'DIA_FIN\' | translate }}<input type="number" class="form-control" ng-model="crearCumplido.cumplido_informacion.dia_final" required> </div> <div class="form-group col-lg-6"> <label>{{ \'VALOR_COB\' | translate }}</label><br> <input type="text" class="form-control" ng-model="crearCumplido.cumplido_informacion.valor_cobro"> </div><br> <!--<div class="form-group col-lg-3">\n                  <input  type="submit" class="form-control btn btn-success" value="Consultar valor a cobrar" ng-click="crearCumplido.obtener_pago()">\n              </div>--> </form></div> <div class="form-group col-lg-8 col-lg-offset-2"> <label></label> <input type="submit" class="form-control btn btn-success" value="{{ \'GEN_CUMPLIDO\' | translate }}" ng-click="resolucionGeneracion.crearResolucion()"> </div>  </div> </div> </div> </div> </div> '),a.put("views/seguimiento_contractual/crear_informe.html",'<br> <div class="panel panel-default"> <div class="panel panel-primary panel-body"> <!--Cabecera del panel--> <h2 class="page-header text-center">INFORME DE GESTIÓN</h2> <div class="panel-body"> <div class="row"> <div class="panel panel-default col-lg-10 col-lg-offset-1"> <div class="panel-body"> <form role="form"> <div class="row"> <div class="form-group col-lg-9"> <label>NUMERO DOCUMENTO DE IDENTIDAD</label> <input type="text" class="form-control" ng-model="crearInforme.Documento" placeholder="Ingrese su número de documento de identidad" required> </div> <div class="form-group col-lg-3"> <label></label> <input type="submit" class="form-control btn btn-success" value="Consultar Información" ng-click="crearInforme.obtener_informacion_informe()"> </div> <div class="form-group col-lg-6"> <label>FECHA SUSCRIPCIÓN CONTRATO</label> <input type="text" class="form-control" ng-model="crearInforme.informe.Fecha_suscripcion" required> </div> <div class="form-group col-lg-6"> <label>NOMBRE</label> <input type="text" class="form-control" ng-model="crearInforme.informe.Nombre" required> </div> <div class="form-group col-lg-6"> <label>NUMERO DOCUMENTO DE IDENTIDAD</label> <input type="text" class="form-control" ng-model="crearInforme.informe.Documento" required> </div> <div class="form-group col-lg-6"> <label>DEPENDENCIA</label> <select class="form-control" ng-model="crearInforme.informe.Dependencia" ng-options="option.Nombre for option in crearInforme.dependencias"> <option value="">--Elija la dependencia a la que pertenece--</option> </select> </div> <div class="form-group col-lg-6"> <label>CUMPLIDO DEL MES</label> <input type="text" class="form-control" ng-model="crearInforme.informe.Mes" required> </div> <div class="form-group col-lg-6"> <label>FECHA INICIO DEL CONTRATO</label> <input type="text" class="form-control" ng-model="crearInforme.informe.Fecha_inicio" required> </div> <div class="form-group col-lg-6"> <label>FECHA FIN DEL CONTRATO</label> <input type="text" class="form-control" ng-model="crearInforme.informe.Fecha_fin" required> </div> <div class="form-group col-lg-12"> <label>OBJETO DEL CONTRATO</label> <textarea rows="7" class="form-control" ng-model="crearInforme.informe.Objeto" required></textarea> </div> </div> </form> </div> <button type="button" id="addData" class="btn btn-success" ng-click="addData()">Agregar registro</button> <div style="height: {{gridHeight}}px" ui-grid="crearInforme.gridOptions1" align="center" ui-grid-auto-resize></div> <div class="form-group col-lg-8 col-lg-offset-2"> <label></label> <input type="submit" class="form-control btn btn-success" value="Generar Informe" ng-click="resolucionGeneracion.crearResolucion()"> </div>  </div> </div> </div> </div> </div> ');
}]);